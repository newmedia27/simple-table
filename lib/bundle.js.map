{"version":3,"file":"bundle.js","sources":["../src/lib/constants.js","../src/plugin/utils.js","../src/lib/Table.js","../src/lib/components/modal/Modal.js","../src/lib/components/modal/context.js","../src/lib/components/modal/index.js","../src/lib/components/resizeble/Resizeble.js","../src/lib/components/cell/Cell.js","../src/lib/components/toolbar/tooltip/index.js","../src/lib/components/toolbar/button/index.js","../src/lib/components/toolbar/icon/index.js","../src/lib/components/toolbar/dropdown/DropdownWrapper.js","../src/lib/components/toolbar/dropdown/index.js","../src/lib/components/toolbar/dropdownBtn/index.js","../src/lib/components/toolbar/richEditorDropdown/index.js","../src/lib/modalTable/modal-toolbar/content/Content.js","../src/lib/modalTable/modal-toolbar/Toolbar.js","../src/lib/modalTable/ModalTable.js","../src/App.js","../src/lib/renderConfig.js","../src/lib/RenderTable.js","../src/plugin/TablePlugin.js","../src/lib/components/toolbar/tableGrid/index.js","../src/lib/components/Button.js","../src/lib/utils/iconLIbrary.js","../src/index.js"],"sourcesContent":["export const MAX_INDENT_DEPTH = 20;\nexport const MAX_LIST_DEPTH = 4;\nexport const COLORS = [\n  '#000000',\n  '#FFFFFF',\n  '#888888',\n  '#AAAAAA',\n  '#EEEEEE',\n  '#880000',\n  '#CC0000',\n  '#FF0000',\n  '#FFCCCC',\n  '#FF8800',\n  '#FFCC00',\n  '#FFFF00',\n  '#CCFF00',\n  '#88FF00',\n  '#008800',\n  '#00CC00',\n  '#00CC88',\n  '#00CCCC',\n  '#CCEEFF',\n  '#00CCFF',\n  '#0088FF',\n  '#0000FF',\n  '#8800FF',\n  '#CC00CC',\n  '#CC0088',\n];\nexport const FONTS = [\n  'Arial',\n  'Arial Black',\n  'Comic Sans MS',\n  'Courier New',\n  'Helvetica Neue',\n  'Helvetica',\n  'Impact',\n  'Lucida Grande',\n  'Tahoma',\n  'Times New Roman',\n  'Verdana',\n];\nexport const FONT_SIZES = [8, 9, 10, 11, 12, 14, 18, 24, 36];\n\nexport const defaultPreTagStyling = [\n  ['padding', '9.5px'],\n  ['margin', '0 0 10px'],\n  ['border', '1px solid rgb(204, 204, 204)'],\n  ['background', 'rgb(245, 245, 245)'],\n];\n\nexport const availableAlignments = [\n  { type: 'left', display: { icon: 'align-left-sld' } },\n  { type: 'center', display: { icon: 'align-center-sld' } },\n  { type: 'right', display: { icon: 'align-right-sld' } },\n  { type: 'justify', display: { icon: 'align-justify-sld' } },\n];\n\nexport const dropdownOptions = {\n  alignment: {\n    activeOption: (alignment = 'left') => availableAlignments.find(a => a.type === alignment),\n    controlWidth: 40,\n    dropdownWidth: 40,\n    list: availableAlignments,\n    method: 'listDropdown',\n  },\n}\n\nexport const Keys = {\n  B: 66,\n  Backspace: 8,\n  Delete: 127,\n  E: 69,\n  Enter: 13,\n  I: 73,\n  J: 74,\n  L: 76,\n  R: 82,\n  T: 84,\n  Tab: 9,\n  U: 85,\n  '[': 219,\n  ']': 221,\n};\n\n\nexport const inlineStylesTypes = [\n  'BOLD',\n  'ITALIC',\n  'UNDERLINE'\n]\n\nexport const BLOCK_TYPES = [\n\t{ label: \" “ ” \", style: \"blockquote\" },\n\t{ label: \"UL\", style: \"unordered-list-item\" },\n\t{ label: \"OL\", style: \"ordered-list-item\" },\n\t{ label: \"{ }\", style: \"code-block\" }\n];\n\nexport const HEADER_TYPES = [\n\t// { label: \"(None)\", style: \"unstyled\" },\n\t{ label: \"H1\", style: \"header-one\" },\n\t{ label: \"H2\", style: \"header-two\" },\n\t// { label: \"H3\", style: \"header-three\" },\n\t// { label: \"H4\", style: \"header-four\" },\n\t// { label: \"H5\", style: \"header-five\" },\n\t// { label: \"H6\", style: \"header-six\" }\n];","import { EditorState } from \"draft-js\"\nimport { RichUtils } from \"draft-js\"\nimport { SelectionState } from \"draft-js\"\nimport { Modifier } from \"draft-js\"\nimport { handleKeyCommand } from \"draft-js/lib/RichTextEditorUtil\"\n\nexport const handleTabInTable = (\n\tdirection = \"next\",\n\tcollapsed = false,\n\teditorState,\n\tonChange = () => {}\n) => {\n\tlet newEditorState = editorState\n\tlet selection = editorState.getSelection()\n\tlet contentState = editorState.getCurrentContent()\n\tlet targetKey = selection.getAnchorKey()\n\tlet targetBlock = contentState.getBlockForKey(targetKey)\n\tdo {\n\t\tif (direction === \"next\") {\n\t\t\ttargetBlock = contentState.getBlockAfter(targetKey)\n\t\t} else {\n\t\t\ttargetBlock = contentState.getBlockBefore(targetKey)\n\t\t}\n\t\ttargetKey = targetBlock && targetBlock.getKey()\n\t} while (\n\t\ttargetKey &&\n\t\t[\"atomic\", \"horizontal-rule\"].includes(targetBlock.getType())\n\t)\n\tif (!targetBlock && direction === \"next\") {\n\t\tselection = selection.merge({\n\t\t\tanchorOffset: contentState\n\t\t\t\t.getBlockForKey(selection.getAnchorKey())\n\t\t\t\t.getLength(),\n\t\t\tfocusOffset: contentState\n\t\t\t\t.getBlockForKey(selection.getAnchorKey())\n\t\t\t\t.getLength(),\n\t\t})\n\t\tcontentState = Modifier.splitBlock(contentState, selection)\n\t\ttargetBlock = contentState.getLastBlock()\n\t\tselection = SelectionState.createEmpty(targetBlock.getKey())\n\t\tcontentState = Modifier.setBlockType(contentState, selection, \"unstyled\")\n\t\ttargetBlock = contentState.getLastBlock()\n\t\tnewEditorState = EditorState.push(editorState, contentState, \"split-block\")\n\t} else if (!targetBlock) {\n\t\ttargetBlock = contentState.getBlockForKey(selection.getAnchorKey())\n\t}\n\tconst isTargetTable =\n\t\ttargetBlock.getData()?.get(\"dataType\") === \"table-cel\" && !collapsed\n\tconst endOffset = targetBlock.getLength()\n\tselection = SelectionState.createEmpty(targetBlock.getKey())\n\tselection = selection.merge({\n\t\tanchorOffset: isTargetTable || direction === \"next\" ? 0 : endOffset,\n\t\tfocusOffset: isTargetTable || direction === \"previous\" ? endOffset : 0,\n\t})\n\tonChange(EditorState.forceSelection(newEditorState, selection))\n}\n\nexport const handleKeysCommand = (command, newEditorState) => {\n\tswitch (command) {\n\t\tcase \"backspace\": {\n\t\t\t// removing images (\"atomic\" blocktype) with backspace requires special handling or the image tag and dataUrl can be left in the content but not visible.\n\t\t\tlet contentState = newEditorState.getCurrentContent()\n\t\t\tlet selectionState = newEditorState.getSelection()\n\t\t\tconst startKey = selectionState.getStartKey()\n\t\t\tconst offset = selectionState.getStartOffset()\n\t\t\tconst collapsed = selectionState.isCollapsed()\n\t\t\tconst blockBefore = contentState.getBlockBefore(startKey)\n\t\t\tconst currentBlockType = RichUtils.getCurrentBlockType(newEditorState)\n\t\t\tconst selection = newEditorState.getSelection()\n\t\t\tconst selectionKey = selection.getAnchorKey()\n\t\t\tconst currBlock = contentState.getBlockForKey(selectionKey)\n\t\t\tconst data = currBlock.getData()\n\t\t\tif (data.get(\"dataType\") === \"table-cel\" && collapsed && offset === 0) {\n\t\t\t\treturn \"handled\"\n\t\t\t} else if (\n\t\t\t\tdata.get(\"dataType\") !== \"table-cel\" &&\n\t\t\t\tcollapsed &&\n\t\t\t\tblockBefore?.getData().get(\"dataType\") === \"table-cel\" &&\n\t\t\t\toffset === 0\n\t\t\t) {\n\t\t\t\thandleTabInTable(\"previous\", true)\n\t\t\t\treturn \"handled\"\n\t\t\t} else if (\n\t\t\t\tcollapsed &&\n\t\t\t\toffset === 0 &&\n\t\t\t\tblockBefore?.getType() === \"page-break\"\n\t\t\t) {\n\t\t\t\tlet selection = SelectionState.createEmpty(blockBefore.getKey())\n\t\t\t\tcontentState = Modifier.setBlockData(contentState, selection, Map({}))\n\t\t\t\tcontentState = Modifier.setBlockType(\n\t\t\t\t\tcontentState,\n\t\t\t\t\tselection,\n\t\t\t\t\t\"unstyled\"\n\t\t\t\t)\n\t\t\t\tselection = selection.merge({\n\t\t\t\t\tfocusKey: selectionState.getFocusKey(),\n\t\t\t\t\tfocusOffset: 0,\n\t\t\t\t\thasFocus: true,\n\t\t\t\t})\n\t\t\t\tcontentState = Modifier.removeRange(contentState, selection, \"backward\")\n\t\t\t\t// onChange(EditorState.push(newEditorState, contentState, \"remove-range\"))\n\t\t\t\treturn \"handled\"\n\t\t\t} \n    //         else if (currentBlockType === \"page-break\") {\n\t// \t\t\tcontentState = Modifier.setBlockData(\n\t// \t\t\t\tcontentState,\n\t// \t\t\t\tselectionState,\n\t// \t\t\t\tMap({})\n\t// \t\t\t)\n\t// \t\t\tcontentState = Modifier.setBlockType(\n\t// \t\t\t\tcontentState,\n\t// \t\t\t\tselectionState,\n\t// \t\t\t\t\"unstyled\"\n\t// \t\t\t)\n\t// \t\t\tlet selection = selectionState\n\t// \t\t\tif (collapsed && contentState.getBlockAfter(startKey)) {\n\t// \t\t\t\tselection = selection.merge({\n\t// \t\t\t\t\tfocusKey: contentState.getBlockAfter(startKey).getKey(),\n\t// \t\t\t\t\tfocusOffset: 0,\n\t// \t\t\t\t\thasFocus: true,\n\t// \t\t\t\t})\n\t// \t\t\t}\n\t// \t\t\tcontentState = Modifier.removeRange(contentState, selection, \"backward\")\n\t// \t\t\tonChange(EditorState.push(newEditorState, contentState, \"remove-range\"))\n\t// \t\t\treturn \"handled\"\n\t// \t\t} else if (\n\t// \t\t\tcollapsed &&\n\t// \t\t\toffset === 0 &&\n\t// \t\t\t[\n\t// \t\t\t\t\"pasted-list-item\",\n\t// \t\t\t\t\"ordered-list-item\",\n\t// \t\t\t\t\"unordered-list-item\",\n\t// \t\t\t].includes(currentBlockType)\n\t// \t\t) {\n\t// \t\t\tcontentState = Modifier.setBlockType(\n\t// \t\t\t\tcontentState,\n\t// \t\t\t\tselectionState,\n\t// \t\t\t\t\"unstyled\"\n\t// \t\t\t)\n\t// \t\t\tonChange(\n\t// \t\t\t\tEditorState.push(newEditorState, contentState, \"change-block-type\")\n\t// \t\t\t)\n\t// \t\t\treturn \"handled\"\n\t// \t\t} else if (!collapsed) {\n\t// \t\t\treturn handleKeypressWhenSelectionNotCollapsed(newEditorState)\n\t// \t\t} else {\n\t// \t\t\treturn \"not-handled\"\n\t// \t\t}\n\t\t}\n\t// \tcase \"BOLD\":\n\t// \t\ttoggleInlineStyle(\"BOLD\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"bullet_list\":\n\t// \t\ttoggleListType(\"BULLETLIST\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"delete\":\n\t// \t\treturn handleDeleteKey()\n\t// \tcase \"float_left\":\n\t// \t\ttoggleBlockData({ float: \"left\" })\n\t// \t\treturn \"handled\"\n\t// \tcase \"float_right\":\n\t// \t\ttoggleBlockData({ float: \"right\" })\n\t// \t\treturn \"handled\"\n\t// \tcase \"INDENT\":\n\t// \t\tsetIndent(\"INDENT\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"ITALIC\":\n\t// \t\ttoggleInlineStyle(\"ITALIC\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"ordered_list\":\n\t// \t\ttoggleListType(\"ORDEREDLIST\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"OUTDENT\":\n\t// \t\tsetIndent(\"OUTDENT\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"UNDERLINE\":\n\t// \t\ttoggleInlineStyle(\"UNDERLINE\")\n\t// \t\treturn \"handled\"\n\t// \tcase \"shiftTab\":\n\t// \t\treturn \"handled\"\n\t// \tcase \"tab\":\n\t// \t\treturn \"handled\"\n\t\tdefault:\n\t\t\treturn \"not-handled\"\n\t}\n}\n","import { convertToRaw, ContentBlock, genKey, ContentState } from \"draft-js\"\nimport { Map } from \"immutable\"\nimport { createEditorStateFromRaw } from \"draftjs-conductor\"\nimport { useEffect } from \"react\"\n\nexport default function CreateTableComponent(props) {\n\tfunction createTable() {\n\t\tconst { blockProps, contentState } = props\n\t\tconst { blocks } = convertToRaw(contentState)\n\t\tconst index = blocks.findIndex((e) => e?.data?.dataType === \"table-create\")\n\t\tconst { onChange } = blockProps.getProps()\n\t\tconst createrBlock = blocks[index]\n\t\tconst { data } = createrBlock\n\t\tconst { rows, cols, tableKey, aligment } = data\n\t\tconst colArr = Array(cols)\n\t\t\t.fill(1)\n\t\t\t.map((e) => ({ key: genKey() }))\n\t\tconst rowArr = Array(rows).fill(colArr)\n\t\tconst newBlocks = []\n\n\t\tlet dataMap = Map({\n\t\t\ttableKey,\n\t\t\taligment,\n\t\t\tdataType: \"table-cel\",\n\t\t})\n\n\t\tdataMap = dataMap.set(\"defaultSchema\", rowArr)\n\n\t\tnewBlocks.push(\n\t\t\tnew ContentBlock({\n\t\t\t\tkey: genKey(),\n\t\t\t\ttype: \"table\",\n\t\t\t\ttext: \" \",\n\t\t\t\tdata: dataMap,\n\t\t\t})\n\t\t)\n\t\tconst prepareBlocks = [...contentState.getBlocksAsArray()]\n\t\tprepareBlocks.splice(index, 1, ...newBlocks)\n\n\t\tconst entityMap = contentState.getEntityMap()\n\t\tconst newState = ContentState.createFromBlockArray(prepareBlocks, entityMap)\n\t\tconst editorState = createEditorStateFromRaw(convertToRaw(newState))\n\t\tonChange(editorState)\n\t}\n\n\tuseEffect(() => {\n\t\tcreateTable()\n\t}, [])\n\n\treturn null\n}\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport ClassNames from \"classnames\";\nimport styles from \"./modal.module.sass\";\nimport { useModal } from \".\";\n\nlet modalRoot;\nif (typeof document === \"object\") {\n  modalRoot = document.createElement(\"div\");\n  modalRoot.setAttribute(\"class\", styles.modalRoot);\n  document.body.appendChild(modalRoot);\n}\n\nconst ModalContent = ({ children, closingAnimate, className }) => {\n  const { isOpen, close, disabled } = useModal();\n  useEffect(() => {\n    const handleKeyUp = (e) => {\n      if (e.which === 27) {\n        e.preventDefault();\n        close();\n      }\n    };\n\n    window.addEventListener(\"keyup\", handleKeyUp, false);\n    return () => {\n      window.removeEventListener(\"keyup\", handleKeyUp, false);\n    };\n  }, [close]);\n\n  //   useEffect(() => {\n  //     const { body } = document;\n  //     if (isOpen) {\n  //       body.style.overflow = \"hidden\";\n  //     } else {\n  //       body.style.overflow = \"unset\";\n  //     }\n  //   }, [isOpen]);\n\n  if (!isOpen) return null;\n  return createPortal(\n    <div className={styles.root}>\n      <div\n        className={ClassNames(styles.modal__overlay, {\n          [styles.modal__overlay_closed]: closingAnimate,\n        })}\n        onClick={() => close()}\n      />\n      <div\n        className={ClassNames(\n          styles.modal__wrapper,\n          {\n            [styles.modal__wrapper_closed]: closingAnimate,\n          },\n          className\n        )}\n      >\n        <div className={styles.modal}>{children(close, disabled)}</div>\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nModalContent.proptypes = {\n  children: PropTypes.node.isRequired,\n  closingAnimate: PropTypes.bool,\n};\nModalContent.defaultprops = {\n  closingAnimate: false,\n};\n\nexport default ModalContent;\n","import { createContext, useContext } from \"react\";\n\nexport const ModalContext = createContext({\n  isOpen: false,\n  disabled: false,\n  close: () => {},\n});\n\nexport const ModalHook = () => useContext(ModalContext);\n","import React, { useState, useCallback, useMemo } from 'react';\nimport ModalContent from './Modal';\nimport { ModalContext, ModalHook } from './context';\n\nconst Modal = ({ isOpen, children, onClose, submit, className }) => {\n    const [closingAnimate, setClosingAnimate] = useState(false);\n\n    const close = useCallback(() => {\n        setClosingAnimate(true);\n        setTimeout(() => {\n            setClosingAnimate(false);\n            if (onClose) {\n                onClose();\n            }\n        }, 600); // must less  than the transition time in css 0.5s\n    }, [onClose, setClosingAnimate]);\n\n    const value = useMemo(\n        () => ({\n            close,\n            isOpen,\n        }),\n        [ close, isOpen]\n    );\n\n    return (\n        <ModalContext.Provider value={value}>\n            <ModalContent closingAnimate={closingAnimate} submit={submit} className={className}>\n                {children}\n            </ModalContent>\n        </ModalContext.Provider>\n    );\n};\n\nexport const useModal = () => ModalHook();\n\nexport default Modal;\n","import React, { useEffect, useRef, useState } from \"react\"\nimport \"./resizeble.sass\"\n\nconst Resizeble = ({ colStyle, setColStyle, colWidth, colKey }) => {\n\tconst [start, setStart] = useState(null)\n\tconst ref = useRef(null)\n\n\tconst handleMouseDown = (e) => {\n\t\tinitDrag(e)\n\t}\n\n\tfunction doDrag(e) {\n\t\tconst width = start.startWidth + e.clientX - start.startX \n\t\tsetColStyle((s) => ({\n\t\t\t...s,\n\t\t\t[colKey]: { ...s[colKey], width },\n\t\t}))\n\t}\n\n\tfunction stopDrag(e) {\n\t\tdocument.documentElement.removeEventListener(\"mousemove\", doDrag, false)\n\t\tdocument.documentElement.removeEventListener(\"mouseup\", stopDrag, false)\n\t}\n\tfunction initDrag(e) {\n\t\tconst startX = e.clientX\n\t\tsetStart({\n\t\t\tstartX,\n\t\t\tstartWidth: colWidth,\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tif (start) {\n\t\t\tdocument.documentElement.addEventListener(\"mousemove\", doDrag, false)\n\t\t\tdocument.documentElement.addEventListener(\"mouseup\", stopDrag, false)\n\t\t}\n\t}, [start])\n\tconsole.log(colKey,'WIDTH')\n\treturn (\n\t\t<>\n\t\t\t<div className=\"border border_top\" />\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\tclassName=\"border border_right\"\n\t\t\t/>\n\t\t\t<div className=\"border border_left\" />\n\t\t\t<div className=\"border border_bottom\" />\n\t\t</>\n\t)\n}\n\nexport default Resizeble\n\n// var p = document.querySelector('p'); // element to make resizable\n\n// p.addEventListener('click', function init() {\n//     p.removeEventListener('click', init, false);\n//     p.className = p.className + ' resizable';\n//     var resizer = document.createElement('div');\n//     resizer.className = 'resizer';\n//     p.appendChild(resizer);\n//     resizer.addEventListener('mousedown', initDrag, false);\n// }, false);\n\n// var startX, startY, startWidth, startHeight;\n\n// function initDrag(e) {\n//    startX = e.clientX;\n//    startY = e.clientY;\n//    startWidth = parseInt(document.defaultView.getComputedStyle(p).width, 10);\n//    startHeight = parseInt(document.defaultView.getComputedStyle(p).height, 10);\n//    document.documentElement.addEventListener('mousemove', doDrag, false);\n//    document.documentElement.addEventListener('mouseup', stopDrag, false);\n// }\n\n// function doDrag(e) {\n//    p.style.width = (startWidth + e.clientX - startX) + 'px';\n//    p.style.height = (startHeight + e.clientY - startY) + 'px';\n// }\n\n// function stopDrag(e) {\n//     document.documentElement.removeEventListener('mousemove', doDrag, false);\n//     document.documentElement.removeEventListener('mouseup', stopDrag, false);\n// }\n","import React, { useRef, useEffect, useCallback, useMemo } from \"react\"\nimport Editor from \"@draft-js-plugins/editor\"\nimport { RichUtils } from \"draft-js\"\nimport { getSelectionInlineStyle } from \"draftjs-utils\"\nimport \"draft-js/dist/Draft.css\"\nimport classNames from \"classnames\"\nimport Resizeble from \"../resizeble/Resizeble\"\nimport \"./Cell.sass\"\n\nexport default function Cell({\n\teditorState,\n\tcellKey,\n\tonChange,\n\tindex,\n\tactive,\n\tsetActive,\n\tstyleKey,\n\theaderKey,\n\tselectGroup,\n\tclicking,\n\tenterHandler,\n\taligment,\n\tsetSelectGroup,\n\tcellStyle,\n\tsetColStyle,\n\tcolKey,\n}) {\n\tconst ref = useRef(null)\n\tconst { eventState, event } = styleKey\n\tconst activeGroup = useMemo(\n\t\t() => selectGroup?.includes(cellKey),\n\t\t[selectGroup]\n\t)\n\tconst changeStyles = useCallback(\n\t\t(state) => {\n\t\t\tconst styles = getSelectionInlineStyle(state)\n\t\t\tconst appliedStyles = Object.keys(styles).filter((e) => styles[e])\n\t\t\tconst difference = appliedStyles\n\t\t\t\t.filter((x) => !eventState.includes(x))\n\t\t\t\t.concat(eventState.filter((x) => !appliedStyles.includes(x)))\n\t\t\tlet addStyleState = state\n\t\t\tif (difference.length) {\n\t\t\t\tdifference.forEach((e) => {\n\t\t\t\t\taddStyleState = RichUtils.toggleInlineStyle(state, e)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn addStyleState\n\t\t},\n\t\t[eventState]\n\t)\n\n\tconst handleChange = (state) => {\n\t\tconst addStyleState = changeStyles(state)\n\t\tonChange((s) => ({\n\t\t\t...s,\n\t\t\t[cellKey]: { ...s[cellKey], editorState: addStyleState },\n\t\t}))\n\t}\n\tuseEffect(() => {\n\t\tif (eventState && event) {\n\t\t\tconst addStyleState = changeStyles(editorState)\n\t\t\tonChange((s) => ({\n\t\t\t\t...s,\n\t\t\t\t[cellKey]: {\n\t\t\t\t\t...s[cellKey],\n\t\t\t\t\teditorState: addStyleState,\n\t\t\t\t},\n\t\t\t}))\n\t\t}\n\t}, [eventState])\n\n\tuseEffect(() => {\n\t\tif (active === cellKey) {\n\t\t\tconst state = RichUtils.toggleBlockType(editorState, headerKey[cellKey])\n\t\t\tonChange((s) => ({\n\t\t\t\t...s,\n\t\t\t\t[cellKey]: {\n\t\t\t\t\t...s[cellKey],\n\t\t\t\t\teditorState: state,\n\t\t\t\t},\n\t\t\t}))\n\t\t}\n\t}, [headerKey])\n\n\tif (!editorState) {\n\t\treturn null\n\t}\n\n\tconst handleFocus = () => {\n\t\tref.current.editor.focus()\n\t\tsetActive(cellKey)\n\t\tif (!activeGroup) {\n\t\t\tsetSelectGroup([])\n\t\t}\n\t}\n\n\tconst handleBlur = (e) => {\n\t\tif (active === cellKey) {\n\t\t\tsetActive(\"\")\n\t\t}\n\t}\n\n\tconst handleMouseMove = (e) => {\n\t\tif (clicking) {\n\t\t\tenterHandler(e)\n\t\t}\n\t}\n\n\treturn (\n\t\t<td\n\t\t\tclassName={classNames(\"content\", {\n\t\t\t\tactive: activeGroup,\n\t\t\t})}\n\t\t\tonFocus={handleFocus}\n\t\t\tonBlur={handleBlur}\n\t\t\ttabIndex={index}\n\t\t\tdata-key={cellKey}\n\t\t\tonMouseEnter={handleMouseMove}\n\t\t\tstyle={{ textAlign: aligment, ...cellStyle }}\n\t\t>\n\t\t\t<Resizeble\n\t\t\t\tsetColStyle={setColStyle}\n\t\t\t\tcolWidth={cellStyle && cellStyle.width}\n\t\t\t\tcolKey={colKey}\n\t\t\t/>\n\t\t\t<div className=\"content\">\n\t\t\t\t<Editor ref={ref} editorState={editorState} onChange={handleChange} />\n\t\t\t</div>\n\t\t</td>\n\t)\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './tooltip.sass';\n\nconst Tooltip = props => {\n  // ref to the tooltip\n  const ref = useRef(null);\n  // ref to the element the tooltip points to\n  const anchorRef = useRef(null);\n  // if the anchor is resized, update the tooltip positioning\n  const observerRef = useRef(null);\n  useEffect(() => {\n    observerRef.current = \n    new ResizeObserver(() => {\n      const { x, y } = mouseRef.current;\n      const newAnchorRect = anchorRef.current.getBoundingClientRect();\n      const isMouseOverAnchor = () => {\n        if (\n          newAnchorRect.left <= x &&\n          newAnchorRect.right >= x &&\n          newAnchorRect.top <= y &&\n          newAnchorRect.bottom >= y\n        ) {\n          return true;\n        }\n        return false;\n      };\n      if (isMouseOverAnchor()) {\n        shouldOpen.current = true;\n      } else {\n        shouldOpen.current = false;\n        setShow(false);\n      }\n      setAnchorBox(newAnchorRect);\n    })\n  }, []);\n\n  // ref to a container element the tooltip should not overflow to the left or right (for top and bottom positions only)\n  const containerRef = useRef(null);\n  // the amount by which a centered (top or bottom) tooltip would overflow outside the container.\n  // Negative values overflow on the left, positive values overflow on the right.\n  const [overflow, setOverflow] = useState(0);\n\n  const mouseRef = useRef({});\n  const shouldOpen = useRef(false);\n  const [show, setShow] = useState(false);\n  const [anchorBox, setAnchorBox] = useState({ x: 0, y: 0 });\n\n  // use a ref for this prop so it doesn't have to be included in other useEffect dependency arrays\n  const propsAnchorRef = useRef(props.anchor);\n  useEffect(() => {\n    propsAnchorRef.current = props.anchor;\n  }, [props.anchor]);\n\n  // set or find the anchor element for the tooltip\n  // defaults to the nearest positioned ancestor\n  useEffect(() => {\n    if (propsAnchorRef.current?.getBoundingClientRect) {\n      anchorRef.current = propsAnchorRef;\n    } else {\n      anchorRef.current =\n        document.querySelector(propsAnchorRef.current) ?? ref.current?.offsetParent ?? ref.current?.parentNode;\n    }\n\n    const observer = observerRef.current;\n    if (anchorRef.current) {\n      observer.observe(anchorRef.current);\n    }\n\n    const showFn = () => {\n      shouldOpen.current = true;\n      setAnchorBox(anchorRef.current.getBoundingClientRect());\n    };\n\n    const handleMouseMove = e => {\n      mouseRef.current = { x: e.clientX, y: e.clientY };\n      if (!anchorRef.current?.contains(e.target) || ref.current?.contains(e.target)) {\n        shouldOpen.current = false;\n        setShow(false);\n      }\n    };\n\n    const handleWheel = e => {\n      if (anchorRef.current?.contains(e.target)) {\n        setAnchorBox(anchorRef.current?.getBoundingClientRect());\n      } else {\n        shouldOpen.current = false;\n        setShow(false);\n      }\n    };\n\n    anchorRef.current?.addEventListener('mouseenter', showFn);\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('wheel', handleWheel);\n\n    return () => {\n      anchorRef.current?.removeEventListener('mouseenter', showFn);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('wheel', handleWheel);\n      observer.disconnect();\n    };\n  }, []);\n\n  // set or find the container element that the tooltip should not overflow\n  // defaults to document.body\n  useEffect(() => {\n    if (props.container?.getBoundingClientRect) {\n      containerRef.current = props.container;\n    } else {\n      containerRef.current = document.querySelector(props.container) ?? {\n        getBoundingClientRect: () => ({\n          left: 0,\n          top: 0,\n          right: window.innerWidth,\n          bottom: window.innerHeight,\n        }),\n      };\n    }\n  }, [props.container]);\n\n  // determine if the tooltip position needs to be adjusted so it doesn't overflow the edge of the container or screen\n  useEffect(() => {\n    if (anchorBox.width) {\n      const refBox = ref.current.getBoundingClientRect();\n      const containerBox = containerRef.current.getBoundingClientRect();\n      if (/^top$|^bottom$/.test(props.orientation)) {\n        const leftOffset = containerBox.left - (anchorBox.left + anchorBox.width / 2 - refBox.width / 2);\n        const rightOffset = containerBox.right - (anchorBox.right - anchorBox.width / 2 + refBox.width / 2);\n\n        if (leftOffset > 0) {\n          setOverflow(leftOffset + 6);\n        } else if (rightOffset < 0) {\n          setOverflow(rightOffset - 6);\n        } else {\n          setOverflow(0);\n        }\n      } else {\n        const topOffset = containerBox.top - (anchorBox.top + anchorBox.height / 2 - refBox.height / 2);\n        const bottomOffset = containerBox.bottom - (anchorBox.bottom - anchorBox.height / 2 + refBox.height / 2);\n\n        if (topOffset > 0) {\n          setOverflow(topOffset + 6);\n        } else if (bottomOffset < 0) {\n          setOverflow(bottomOffset - 6);\n        } else {\n          setOverflow(0);\n        }\n      }\n    }\n\n    if (shouldOpen.current) {\n      setShow(true);\n    }\n  }, [anchorBox, props.orientation, props.children]);\n\n  const tipPos = ref.current?.getBoundingClientRect() ?? {};\n  const pointerInner = props.size === 'sm' ? 6 : 10;\n  const pointerOuter = props.size === 'sm' ? 8 : 12;\n\n  return (\n    <div\n      className={`tooltip ${props.orientation} ${props.size}`}\n      ref={ref}\n      css={[\n        {\n          position: anchorRef.current ? 'fixed' : 'absolute',\n          opacity: 0,\n          visibility: 'hidden',\n          transition: '300ms ease',\n          transitionProperty: 'opacity visibility',\n        },\n        show && {\n          opacity: 1,\n          visibility: 'visible',\n          transition: '300ms 200ms ease',\n        },\n        /^top$|^bottom$/.test(props.orientation) && {\n          ':before': {\n            left: `calc(50% - ${pointerOuter}px - ${overflow}px)`,\n          },\n          ':after': {\n            left: `calc(50% - ${pointerInner}px - ${overflow}px)`,\n          },\n        },\n        /^left$|^right$/.test(props.orientation) && {\n          ':before': {\n            top: `calc(50% - ${pointerOuter}px - ${overflow}px)`,\n          },\n          ':after': {\n            top: `calc(50% - ${pointerInner}px - ${overflow}px)`,\n          },\n        },\n        props.orientation === 'top' && {\n          top: `${anchorBox.top - tipPos.height - pointerOuter}px`,\n          left: `${anchorBox.left + anchorBox.width / 2 + overflow - tipPos.width / 2}px`,\n        },\n        props.orientation === 'bottom' && {\n          top: `${anchorBox.top + anchorBox.height + pointerOuter}px`,\n          left: `${anchorBox.left + anchorBox.width / 2 + overflow - tipPos.width / 2}px`,\n        },\n        props.orientation === 'left' && {\n          top: `${anchorBox.top + anchorBox.height / 2 + overflow - tipPos.height / 2}px`,\n          left: `${anchorBox.left - tipPos.width - pointerOuter}px`,\n        },\n        props.orientation === 'right' && {\n          top: `${anchorBox.top + anchorBox.height / 2 + overflow - tipPos.height / 2}px`,\n          left: `${anchorBox.left + anchorBox.width + pointerOuter}px`,\n        },\n        {\n          maxWidth: props.maxWidth,\n        },\n        {\n          [`&.tooltip.${props.orientation}.${props.size}`]: props.className,\n        },\n      ]}\n      data-testid={show ? 'tooltip-in' : 'tooltip-out'}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nTooltip.componentDescription = 'Informational tooltip.';\nTooltip.componentKey = 'tooltip';\nTooltip.componentName = 'Tooltip';\nTooltip.propTypes = {\n  container: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  maxWidth: PropTypes.number,\n  orientation: PropTypes.string,\n  size: PropTypes.oneOf(['sm', 'md', 'lg']),\n};\n\nTooltip.defaultProps = {\n  maxWidth: 380,\n  orientation: 'top',\n  size: 'md',\n};\n\nexport default Tooltip;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Tooltip from '../tooltip';\nimport { isNil } from 'lodash';\n\nconst Button = ({\n  block,\n  children,\n  className,\n  danger,\n  disabled,\n  hasTooltipWhenDisabled,\n  onClick,\n  size,\n  tooltip,\n  tooltipOrientation,\n  tooltipContainer,\n  tooltipMaxWidth,\n  tooltipSize,\n  type,\n}) => {\n  const handleClick = e => {\n    stopPropagation(e);\n    if (!disabled) {\n      onClick();\n    }\n  };\n\n  const stopPropagation = e => {\n    if (typeof e !== 'undefined') {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const renderContent = () => {\n    const tooltipProps = {\n      orientation: tooltipOrientation,\n      container: tooltipContainer,\n      maxWidth: tooltipMaxWidth,\n      size: tooltipSize,\n    };\n    return [\n      <div key='btn-content' className='btn-content'>\n        {children}\n      </div>,\n      !isNil(tooltip) && (!disabled || hasTooltipWhenDisabled) && (\n        <Tooltip key='dropdown' {...tooltipProps}>\n          {tooltip}\n        </Tooltip>\n      ),\n    ];\n  };\n\n  const classes = [\n    'button',\n    danger && 'danger',\n    disabled && 'disabled',\n    type,\n    `size-${size}`,\n    block && 'block',\n    className,\n  ]\n    .filter(Boolean)\n    .join(' ');\n\n  const props = {\n    children: renderContent(),\n    onClick: e => handleClick(e),\n    type: 'button',\n  };\n\n  return <button className={classes} {...props} />\n};\n\nButton.componentDescription = 'Standard extendable button.';\nButton.componentKey = 'button';\nButton.componentName = 'Button';\n\nButton.propTypes = {\n  /** Full width button. */\n  block: PropTypes.bool,\n  /** class to be added to className */\n  className: PropTypes.string,\n  /** Button color will be theme's \"danger\" color. */\n  danger: PropTypes.bool,\n  /** Boolean whether the button is disabled. */\n  disabled: PropTypes.bool,\n  /** Whether to show the tooltip even if the button is disabled */\n  hasTooltipWhenDisabled: PropTypes.bool,\n  /** Callback function when button is clicked. */\n  onClick: PropTypes.func,\n  /** Button size. Options are \"lg\", \"md\", and \"sm\". */\n  size: PropTypes.oneOf(['sm', 'md', 'lg']),\n  /** Tooltip message. Only shown when button is enabled unless hasTooltipWhenDisabled prop is true. */\n  tooltip: PropTypes.node,\n  /** Top, bottom, left or right tooltip alignment. */\n  tooltipOrientation: PropTypes.oneOf(['top', 'bottom', 'left', 'right']),\n  /** Boundary container that the tooltip should not overflow. Can be a query selector string or a ref to an element. */\n  tooltipContainer: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  /** max width of the tooltip */\n  tooltipMaxWidth: PropTypes.number,\n  /** adjusts font-size and line height of tooltip */\n  tooltipSize: PropTypes.oneOf(['sm', 'md', 'lg']),\n  /** Button style type. Options are \"primary\", \"secondary\", and \"tertiary\". */\n  type: PropTypes.oneOf(['primary', 'secondary', 'tertiary']),\n};\n\nButton.defaultProps = {\n  block: false,\n  className: '',\n  danger: false,\n  disabled: false,\n  onClick: () => {},\n  size: 'md',\n  type: 'secondary',\n  tooltipSize: 'lg',\n};\n\nexport default Button;\n","// import Icons from './icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst Icon = props => {\n  function icon(original) {\n    const name = original.substring(0, original.length - 4);\n\n    if (original.length - original.indexOf('reg') === 3) {\n      return ['far', name];\n    } else if (original.length - original.indexOf('lgt') === 3) {\n      return ['fal', name];\n    } else if (original.length - original.indexOf('sld') === 3) {\n      return ['fas', name];\n    } else {\n      console.error('You have not provided a valid icon type');\n      return ['fas', name];\n    }\n  }\n\n  // if (\n  //   [\n  //     'applicant-pending',\n  //     'applicant-ready',\n  //     'batch-order',\n  //     'draft-icon',\n  //     'new-order',\n  //     'revert-color',\n  //     'xml-ready',\n  //   ].includes(props.name)\n  // ) {\n  //   return (\n  //     <svg viewBox='0 0 1024 1024' className={'icon-' + props.name} onClick={() => props.onClick()}>\n  //       <path d={Icons[props.name]} />\n  //     </svg>\n  //   );\n  // }\n\n  const iconProps = {\n    border: props.border,\n    color: props.color,\n    'data-testid': props.testid,\n    fixedWidth: props.fixedWidth,\n    flip: props.flip,\n    icon: icon(props.name),\n    inverse: props.inverse,\n    listItem: props.listItem,\n    onClick: e => props.onClick(e),\n    pulse: props.pulse,\n    rotation: props.rotation,\n    size: props.size,\n    spin: props.spin,\n    style: props.style,\n    title: props.title,\n    transform: props.transform,\n  };\n\n  return <FontAwesomeIcon {...iconProps} />;\n};\n\nIcon.componentDescription = 'Icon library.';\nIcon.componentKey = 'icon';\nIcon.componentName = 'Icon';\n\nIcon.propTypes = {\n  border: PropTypes.bool,\n  color: PropTypes.string,\n  fixedWidth: PropTypes.bool,\n  flip: PropTypes.string,\n  inverse: PropTypes.bool,\n  listItem: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  pulse: PropTypes.bool,\n  rotation: PropTypes.number,\n  size: PropTypes.string,\n  spin: PropTypes.bool,\n  style: PropTypes.object,\n};\n\nIcon.defaultProps = {\n  onClick: () => {},\n};\n\nexport default Icon;\n","import React from 'react'\nimport './wrapper.sass'\n\nconst DropdownWrapper = ({children}) => {\n  return (\n    <div className='dropdown__wrapper'>{children}</div>\n  )\n}\n\nexport default DropdownWrapper","import React, { useEffect, useRef, useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport Icon from \"../icon\"\nimport DropdownWrapper from \"./DropdownWrapper\"\n\nconst Dropdown = ({ orientation, open, top, children, className }) => {\n\tconst ref = useRef()\n\tconst [scrollDiff, setScrollDiff] = useState(0)\n\tconst [scrollBottom, setScrollBottom] = useState(false)\n\n\tconst handleScrolling = () => {\n\t\tif (\n\t\t\tref.current.scrollTop + ref.current.clientHeight ===\n\t\t\tref.current.scrollHeight\n\t\t) {\n\t\t\tsetScrollBottom(true)\n\t\t} else {\n\t\t\tsetScrollBottom(false)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (open && ref.current) {\n\t\t\tsetScrollDiff(ref.current.scrollHeight - ref.current.clientHeight)\n\t\t} else if (!open) {\n\t\t\tsetScrollDiff(0)\n\t\t\tsetScrollBottom(false)\n\t\t}\n\t}, [open])\n\n\treturn (\n\t\t(open || null) && (\n\t\t\t<DropdownWrapper\n\t\t\t\tclassName={`dropdown ${className ?? \"\"} ${orientation === \"left\" ? 'left' : 'right'}`}\n\t\t\t\tstyles={{ top }}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tref={ref}\n\t\t\t\t\tclassName=\"dropdown-content\"\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tscrollDiff <= 18 && {\n\t\t\t\t\t\t\tmaxHeight: `${ref.current?.scrollHeight}px !important`,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tonScroll={handleScrolling}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t\t{scrollDiff > 18 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfontSize: \"12px\",\n\t\t\t\t\t\t\t\tpaddingLeft: 6,\n\t\t\t\t\t\t\t\tbackground: \"#ffcf8f\",\n\t\t\t\t\t\t\t\tcolor: \"#333\",\n\t\t\t\t\t\t\t\tborderBottomRightRadius: 3,\n\t\t\t\t\t\t\t\tborderBottomLeftRadius: 3,\n\t\t\t\t\t\t\t\ttransition: \"opacity 200ms ease-in-out\",\n\t\t\t\t\t\t\t\topacity: scrollBottom && 0.2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tscroll for more <Icon name=\"arrow-down-sld\" />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</DropdownWrapper>\n\t\t)\n\t)\n}\n\nDropdown.componentDescription = \"Generic dropdown menu.\"\nDropdown.componentKey = \"dropdown\"\nDropdown.componentName = \"Dropdown menu\"\n\nDropdown.propTypes = {\n\t/** Boolean whether to show or not */\n\topen: PropTypes.bool,\n\t/** Left or right aligned. Options are \"left\" or \"right\". */\n\torientation: PropTypes.oneOf([\"left\", \"right\"]),\n\t/** Distance from top positioned absolute. */\n\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n}\n\nDropdown.defaultProps = {\n\torientation: \"right\",\n\ttop: \"50px\",\n}\n\nexport default Dropdown\n","import Button from \"../button\"\nimport Dropdown from \"../dropdown\"\nimport PropTypes from \"prop-types\"\nimport React, { useLayoutEffect, useRef, useState } from \"react\"\nimport \"./dropdown.sass\"\nimport useClickOutside from \"use-onclickoutside\"\nimport { isElement } from \"lodash\"\n\nconst DropdownBtn = ({\n\tcontainer,\n\tdropdownOpen,\n\tdropdownOrientation,\n\tonButtonClick,\n\t...props\n}) => {\n\tconst ref = useRef()\n\n\tuseClickOutside(ref, () => {\n\t\tif (dropdownOpen) {\n\t\t\tonButtonClick()\n\t\t}\n\t})\n\n\tconst [orientation, setOrientation] = useState(dropdownOrientation)\n\t// if a container element or container id is provided, orient the dropdown away\n\t// from the closest edge of the container, otherwise use the dropdownOrientation prop.\n\tuseLayoutEffect(() => {\n\t\tlet containerRef = container\n\t\tif (dropdownOpen && container) {\n\t\t\tif (!isElement(container)) {\n\t\t\t\tcontainerRef = document.getElementById(container)\n\t\t\t}\n\t\t\tconst dimensions = containerRef?.getBoundingClientRect()\n\t\t\tconst left = ref.current?.getBoundingClientRect().left - dimensions?.left\n\t\t\tsetOrientation(left < dimensions?.width / 2 ? \"left\" : \"right\")\n\t\t} else if (dropdownOpen) {\n\t\t\tsetOrientation(dropdownOrientation)\n\t\t}\n\t}, [container, dropdownOpen, dropdownOrientation])\n\tconst { buttonContent, styles, ...otherProps } = props\n\tconst buttonProps = {\n\t\tdisabled: props.buttonDisabled,\n\t\tonClick: onButtonClick,\n\t\tsize: props.buttonSize,\n\t\ttype: props.buttonType,\n\t}\n\tconsole.log(props, \"PROPS\")\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\t{...otherProps}\n\t\t\tclassName={`dropdown-button ${props.className ?? \"\"}`}\n\t\t>\n\t\t\t<Button {...buttonProps}>{props.buttonContent}</Button>\n\t\t\t<Dropdown\n\t\t\t\topen={dropdownOpen}\n\t\t\t\torientation={orientation}\n\t\t\t\t//  top={props.dropdownTop}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</Dropdown>\n\t\t</div>\n\t)\n}\n\nDropdownBtn.componentDescription = \"Button that opens a dropdown menu.\"\nDropdownBtn.componentKey = \"dropdownBtn\"\nDropdownBtn.componentName = \"Dropdown button\"\n\nDropdownBtn.propTypes = {\n\tbuttonContent: PropTypes.node,\n\tbuttonDisabled: PropTypes.bool,\n\tbuttonSize: PropTypes.string,\n\tbuttonType: PropTypes.string,\n\t/* a container element or id to dynamically set dropdown orientation */\n\tcontainer: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n\tdropdownOpen: PropTypes.bool,\n\tdropdownOrientation: PropTypes.string,\n\t// dropdownTop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tonButtonClick: PropTypes.func,\n}\n\nDropdownBtn.defaultProps = {\n\tonButtonClick: () => {},\n}\n\nexport default DropdownBtn\n","import DropdownBtn from \"../dropdownBtn\";\nimport Icon from \"../icon\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nexport default class RichEditorDropdown extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.dropdownRef = React.createRef();\n\n    const { controlWidth, dropdownWidth } = this.props;\n    this.state = {\n      showDropdown: false,\n      open: false,\n      controlWidth: controlWidth || 50,\n      dropdownWidth: (dropdownWidth && dropdownWidth + 'px') || 'fit-content',\n      orientation: 'left',\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ showDropdown: true });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.open && this.props.open) {\n      this.handleButtonClick();\n    }\n  }\n\n  handleButtonClick() {\n    this.setState(({ open }) => ({ open: !open }));\n  }\n\n  handleSubmit(style) {\n    this.props.onSelect(style);\n\n    this.handleButtonClick();\n  }\n\n  renderBtnContent() {\n    const { name, icon, style } = this.props.activeOption.display;\n\n    return (\n      <React.Fragment>\n        {icon ? <Icon name={icon} /> : null}\n        {name ? <span style={style}>{name}</span> : null}\n        {/* <Icon name='chevron-down-sld' /> */}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    // Conditionally render the DropdownBtn after component mounts because\n    // DropdownBtn uses useLayoutEffect which causes a warning with ssr\n    if (!this.state.showDropdown) return null;\n    const dropdownProps = {\n      buttonContent: this.renderBtnContent(),\n      dropdownOpen: this.state.open,\n      dropdownOrientation: this.state.orientation,\n      // dropdownTop: 42,\n      onButtonClick: () => this.handleButtonClick(),\n      styles: this.state,\n      ...(!this.props.allowInput && { onMouseDown: e => e.preventDefault() }),\n    };\n    const contentProps = {\n      handleSubmit: result => this.handleSubmit(result),\n      open: this.state.open,\n      ...this.props,\n    };\n    return <DropdownBtn {...dropdownProps}>{this.props.render(contentProps)}</DropdownBtn>;\n  }\n}\n\nRichEditorDropdown.propTypes = {\n  activeOption: PropTypes.shape({\n    display: PropTypes.object.isRequired,\n    type: PropTypes.string,\n  }),\n  allowInput: PropTypes.bool,\n  render: PropTypes.func,\n};\n\nRichEditorDropdown.defaultProps = {\n  activeOption: { display: {} },\n  allowInput: false,\n  render: () => {},\n};\n","import React from \"react\";\nimport Icon from \"../../../components/toolbar/icon\";\n\nconst Content = props => {\n  return (\n    <ul>\n      {props.list.map((item, index) => {\n        const icon = item.display.icon ? <Icon name={item.display.icon} /> : null;\n        const result = item.type || item.display.name;\n        return (\n          <li key={index} style={item.display.style} onClick={() => props.handleSubmit(result)}>\n            {icon} {item.display.name}\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default Content;\n","import React from \"react\"\nimport RichEditorDropdown from \"../../components/toolbar/richEditorDropdown\"\nimport { availableAlignments, dropdownOptions } from \"../../constants\"\nimport Content from \"./content/Content\"\n\nconst Toolbar = ({\n\tsetAligment,\n\talignment,\n\tselectGroup,\n\tsetGroupAligment,\n}) => {\n\tconst name = \"alignment\"\n\n\tconst handleSelect = (type) => {\n        if(selectGroup.length){\n            return setGroupAligment(type)\n        }\n\t\treturn setAligment(type)\n\t}\n\tconst controlProps = {\n\t\tactiveOption: dropdownOptions[name].activeOption(alignment?alignment: 'justify'),\n\t\tcontrolWidth: dropdownOptions[name].controlWidth,\n\t\tdropdownWidth: dropdownOptions[name].dropdownWidth,\n\t\tkey: name,\n\t\tlist: availableAlignments,\n\t\tonSelect: handleSelect,\n\t}\n\treturn (\n\t\t<RichEditorDropdown\n\t\t\trender={(props) => <Content {...props} />}\n\t\t\t{...controlProps}\n\t\t/>\n\t)\n}\n\nexport default Toolbar\n","import {\n\tEditorState,\n\tgenKey,\n\tContentState,\n\tSelectionState,\n\tModifier,\n\tContentBlock,\n} from \"draft-js\"\nimport {\n\tuseContext,\n\tuseMemo,\n\tuseState,\n\tuseEffect,\n\tuseRef,\n\tChildren,\n\tcloneElement,\n} from \"react\"\nimport { ModalCtx } from \"../../App\"\nimport Cell from \"../components/cell/Cell\"\nimport { BLOCK_TYPES, HEADER_TYPES, inlineStylesTypes } from \"../constants\"\nimport Toolbar from \"./modal-toolbar/Toolbar\"\nimport \"./table.sass\"\n\nconst initialCell = {\n\trowKey: \"\",\n\tcolKey: \"\",\n\teditorState: EditorState.createEmpty(),\n\taligment: \"left\",\n}\nconst tolbarStyleButtons = inlineStylesTypes.map((s) => ({\n\tname: s.charAt(0),\n\tclassName: \"toolbar__button\",\n\tdataStyle: s,\n}))\n\nconst initCellStyle = {\n\tminWidth: 50,\n\twidth: 200,\n}\n\nconst blockTypes = [...HEADER_TYPES, ...BLOCK_TYPES]\n\nconst createIndexes = (arr) => {\n\tif (!arr) return null\n\treturn arr.reduce((acc, c, i) => {\n\t\tacc[c] = i\n\t\treturn acc\n\t}, {})\n}\n\nexport default function ModalTable({ closeModal }) {\n\tconst modalCtx = useContext(ModalCtx)\n\tconst { modal } = modalCtx\n\tconst [row, setRow] = useState(modal.row || null)\n\tconst [col, setCol] = useState(modal.col || null)\n\tconst [colStyle, setColStyle] = useState(modal.colStyle || null)\n\tconst [cell, setCell] = useState(modal.cell || null)\n\tconst [active, setActive] = useState(\"\")\n\tconst [styleKey, setStyleKey] = useState({\n\t\tevent: \"\",\n\t\teventState: [],\n\t})\n\tconst [headerKey, setHeaderKey] = useState({})\n\tconst [selectGroup, setSelectGroup] = useState([])\n\tconst [aligment, setAligment] = useState(\"\")\n\tconst [groupAligment, setGroupAligment] = useState(\"\")\n\tconst { defaultSchema } = modal\n\n\tfunction createState() {\n\t\tconst rowArr = []\n\t\tconst cellObject = {}\n\t\tconst colArr = []\n\t\tlet colKey = null\n\n\t\tdefaultSchema.forEach((r, i) => {\n\t\t\tconst rowKey = genKey()\n\t\t\trowArr.push(rowKey)\n\t\t\tr.forEach((c, j) => {\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tcolKey = genKey()\n\t\t\t\t\tcolArr.push(colKey)\n\t\t\t\t}\n\t\t\t\tconst cellKey = genKey()\n\t\t\t\tcellObject[cellKey] = {\n\t\t\t\t\t...initialCell,\n\t\t\t\t\trowKey,\n\t\t\t\t\tcellKey,\n\t\t\t\t\tcolKey: colArr[j],\n\t\t\t\t\taligment,\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\tsetRow(rowArr)\n\t\tsetCell(cellObject)\n\t\tsetCol(colArr)\n\t}\n\n\tuseEffect(() => {\n\t\tif (modal.isOpen && defaultSchema && !modal.tableSchema) {\n\t\t\tcreateState()\n\t\t}\n\t}, [modal])\n\n\tconst renderSchema = useMemo(() => {\n\t\tif (!row || !cell || !col) {\n\t\t\treturn []\n\t\t}\n\t\tconst colIndexMap = createIndexes(col)\n\t\tconst rowIndexMap = createIndexes(row)\n\t\treturn Object.keys(cell).reduce((acc, c) => {\n\t\t\tconst { rowKey, colKey } = cell[c]\n\t\t\tacc[rowIndexMap[rowKey]] = acc[rowIndexMap[rowKey]] ?? []\n\t\t\tacc[rowIndexMap[rowKey]][colIndexMap[colKey]] = cell[c]\n\t\t\treturn acc\n\t\t}, [])\n\t}, [row, cell, col])\n\n\tfunction handleSave() {\n\t\tconst getSchema = renderSchema\n\n\t\tconst prepareSchema = getSchema.map((r) =>\n\t\t\tr.map((c) => {\n\t\t\t\tconst contentState = c.editorState.getCurrentContent()\n\t\t\t\tc[\"contentState\"] = contentState\n\t\t\t\treturn c\n\t\t\t})\n\t\t)\n\t\tconst { generalEditorState } = modal\n\t\tlet contentState = generalEditorState.getCurrentContent()\n\t\tlet selection = generalEditorState.getSelection()\n\t\tcontentState = Modifier.splitBlock(contentState, selection)\n\t\tconst blockArray = contentState.getBlocksAsArray()\n\t\tconst currBlock = blockArray.find(\n\t\t\t(e) => e.getData().get(\"tableKey\") === modal.tableKey\n\t\t)\n\t\tconst index = blockArray.findIndex((block) => block === currBlock)\n\t\tconst data = currBlock.getData()\n\t\tconst newData = data\n\t\t\t.set(\"tableSchema\", prepareSchema)\n\t\t\t.set(\"row\", row)\n\t\t\t.set(\"cell\", cell)\n\t\t\t.set(\"col\", col)\n\t\t\t.set(\"colStyle\", colStyle)\n\t\tconst newBlock = new ContentBlock({\n\t\t\tkey: genKey(),\n\t\t\ttype: \"table\",\n\t\t\ttext: \" \",\n\t\t\tdata: newData,\n\t\t})\n\n\t\tblockArray.splice(index, 1, newBlock)\n\n\t\tconst entityMap = contentState.getEntityMap()\n\t\tcontentState = ContentState.createFromBlockArray(blockArray, entityMap)\n\t\tlet newEditorState = EditorState.push(\n\t\t\tgeneralEditorState,\n\t\t\tcontentState,\n\t\t\t\"insert-fragment\"\n\t\t)\n\t\tconst key = blockArray[0].getKey()\n\t\tselection = SelectionState.createEmpty(key)\n\t\tnewEditorState = EditorState.acceptSelection(newEditorState, selection)\n\t\tmodal.onChange(newEditorState)\n\t\tcloseModal()\n\t}\n\n\tuseEffect(() => {\n\t\tsetCell((s) => {\n\t\t\tif (!aligment && !groupAligment) {\n\t\t\t\treturn s\n\t\t\t}\n\t\t\tif (active) {\n\t\t\t\treturn { ...s, [active]: { ...s[active], aligment } }\n\t\t\t}\n\t\t\treturn Object.keys(s).reduce((acc, c) => {\n\t\t\t\tacc[c] = { ...s[c], aligment }\n\t\t\t\treturn acc\n\t\t\t}, {})\n\t\t})\n\t}, [aligment])\n\n\tuseEffect(() => {\n\t\tsetCell((s) => {\n\t\t\tconst group = selectGroup.reduce((acc, c) => {\n\t\t\t\tacc[c] = { ...s[c], aligment: groupAligment }\n\t\t\t\treturn acc\n\t\t\t}, {})\n\t\t\treturn { ...s, ...group }\n\t\t})\n\t}, [groupAligment])\n\n\tif (!modal.isOpen) {\n\t\treturn null\n\t}\n\n\tfunction handleToolbar(e) {\n\t\te.preventDefault()\n\t\tconst style = e.target.getAttribute(\"data-style\")\n\t\tsetStyleKey((s) => {\n\t\t\tconst styleInArray = s.eventState.includes(style)\n\t\t\tlet state = []\n\t\t\tif (styleInArray) {\n\t\t\t\tstate = s.eventState.filter((k) => k !== style)\n\t\t\t} else {\n\t\t\t\tstate = [...s.eventState, style]\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tevent: style,\n\t\t\t\teventState: state,\n\t\t\t}\n\t\t})\n\t}\n\tconst handleHeaderTypes = (e) => {\n\t\te.preventDefault()\n\t\tconst style = e.target.getAttribute(\"data-style\")\n\t\tif (active) {\n\t\t\tsetHeaderKey((s) => {\n\t\t\t\tif (!s[active]) {\n\t\t\t\t\ts[active] = {}\n\t\t\t\t}\n\t\t\t\tif (s[active] === style) {\n\t\t\t\t\treturn { ...s, [active]: \"\" }\n\t\t\t\t}\n\t\t\t\treturn { ...s, [active]: style }\n\t\t\t})\n\t\t}\n\t}\n\tconsole.log(colStyle && colStyle, \"ACTIVE\")\n\treturn (\n\t\t<div className=\"table__wrapper\">\n\t\t\t<div className=\"toolbar__wrapper\">\n\t\t\t\t<ul className=\"toolbar\">\n\t\t\t\t\t{tolbarStyleButtons.map((e) => (\n\t\t\t\t\t\t<li key={e.dataStyle}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tdata-style={e.dataStyle}\n\t\t\t\t\t\t\t\tdata-active={styleKey.eventState.some((k) => k === e.dataStyle)}\n\t\t\t\t\t\t\t\tclassName={e.className}\n\t\t\t\t\t\t\t\tonMouseDown={handleToolbar}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{e.name}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t\t<ul className=\"toolbar\">\n\t\t\t\t\t\t{blockTypes.map((e) => (\n\t\t\t\t\t\t\t<li key={e.label}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonMouseDown={handleHeaderTypes}\n\t\t\t\t\t\t\t\t\tdata-style={e.style}\n\t\t\t\t\t\t\t\t\tdata-active={\n\t\t\t\t\t\t\t\t\t\theaderKey[active] && headerKey[active] === e.style\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName=\"toolbar__button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{e.label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tsetAligment={setAligment}\n\t\t\t\t\t\talignment={aligment}\n\t\t\t\t\t\tgroupAligment={groupAligment}\n\t\t\t\t\t\tsetGroupAligment={setGroupAligment}\n\t\t\t\t\t\tselectGroup={selectGroup}\n\t\t\t\t\t/>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<EditTableWrapper\n\t\t\t\tsetSelectGroup={setSelectGroup}\n\t\t\t\tselectGroup={selectGroup}\n\t\t\t\tcol={col}\n\t\t\t\trow={row}\n\t\t\t\tcell={cell}\n\t\t\t\tactive={active}\n\t\t\t\tsetCol={setCol}\n\t\t\t\tsetCell={setCell}\n\t\t\t\tcolStyle={colStyle}\n\t\t\t\tsetColStyle={setColStyle}\n\t\t\t>\n\t\t\t\t{({ clicking, enterHandler }) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{renderSchema.map((row, j) => (\n\t\t\t\t\t\t\t\t<tr key={j}>\n\t\t\t\t\t\t\t\t\t{row.map((cell, i) => (\n\t\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\t\tkey={cell.cellKey}\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t\t\t\t\t\t\t{...cell}\n\t\t\t\t\t\t\t\t\t\t\tonChange={setCell}\n\t\t\t\t\t\t\t\t\t\t\tsetActive={setActive}\n\t\t\t\t\t\t\t\t\t\t\tstyleKey={styleKey}\n\t\t\t\t\t\t\t\t\t\t\theaderKey={headerKey}\n\t\t\t\t\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\t\t\t\t\tselectGroup={selectGroup}\n\t\t\t\t\t\t\t\t\t\t\tsetSelectGroup={setSelectGroup}\n\t\t\t\t\t\t\t\t\t\t\tclicking={clicking}\n\t\t\t\t\t\t\t\t\t\t\tenterHandler={enterHandler}\n\t\t\t\t\t\t\t\t\t\t\tsetColStyle={setColStyle}\n\t\t\t\t\t\t\t\t\t\t\tcellStyle={colStyle && colStyle[cell.colKey]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</EditTableWrapper>\n\t\t\t<button onClick={handleSave}>save</button>\n\t\t</div>\n\t)\n}\n\nfunction EditTableWrapper({\n\tchildren,\n\tsetSelectGroup,\n\tcol,\n\trow,\n\tcell,\n\tselectGroup,\n\tactive,\n\tsetCell,\n\tsetCol,\n\tsetColStyle,\n\tcolStyle,\n}) {\n\tconst ref = useRef(null)\n\tconst [clicking, setClicking] = useState(false)\n\tconst [contextMenu, setContextMenu] = useState({\n\t\tisOpen: false,\n\t\ttarget: null,\n\t})\n\tconst colMap = createIndexes(col)\n\tconst rowMap = createIndexes(row)\n\n\tconst eventEnter = (e) => {\n\t\tconst key = e.currentTarget.dataset.key\n\t\tconst currentCell = cell[key]\n\t\tconst { rowKey, colKey } = currentCell\n\n\t\tconst curColIndex = colMap[colKey]\n\t\tconst startColIndex = colMap[cell[active].colKey]\n\t\tconst startRowIndex = rowMap[cell[active].rowKey]\n\t\tconst curRowIndex = rowMap[rowKey]\n\n\t\tconst correctCols = Object.keys(colMap).filter((c) => {\n\t\t\tif (curColIndex >= startColIndex) {\n\t\t\t\treturn colMap[c] <= curColIndex && colMap[c] >= startColIndex\n\t\t\t}\n\t\t\treturn colMap[c] >= curColIndex && colMap[c] <= startColIndex\n\t\t})\n\t\tconst correctRows = Object.keys(rowMap).filter((r) => {\n\t\t\tif (curRowIndex >= startRowIndex) {\n\t\t\t\treturn rowMap[r] <= curRowIndex && rowMap[r] >= startRowIndex\n\t\t\t}\n\t\t\treturn rowMap[r] >= curRowIndex && rowMap[r] <= startRowIndex\n\t\t})\n\n\t\tconst result = Object.keys(cell).filter((c) => {\n\t\t\tconst rKey = cell[c].rowKey\n\t\t\tconst cKey = cell[c].colKey\n\n\t\t\treturn correctCols.includes(cKey) && correctRows.includes(rKey)\n\t\t})\n\n\t\tsetSelectGroup(result)\n\t}\n\n\tconst handleMouseDown = (e) => {\n\t\tif (e.button === 0) {\n\t\t\treturn setClicking(true)\n\t\t}\n\t}\n\tconst handleMouseOver = (e) => {\n\t\tsetClicking(false)\n\t}\n\n\tconst handleKeyUp = (e) => {\n\t\tif (e.which === 27 && selectGroup.length) {\n\t\t\te.preventDefault()\n\t\t\te.stopPropagation()\n\t\t\tsetSelectGroup([])\n\t\t}\n\t}\n\n\tconst handleContext = (e) => {\n\t\te.preventDefault()\n\t\tsetContextMenu({ isOpen: true, target: e.currentTarget, event: e })\n\t}\n\tfunction handleCol({ currentTarget }) {\n\t\tconst type = currentTarget.getAttribute(\"data-value\")\n\t\tconst colArr = [...col]\n\t\tconst needItems = row.length\n\t\tconst newColKey = genKey()\n\t\tconst insertObject = {}\n\t\tfor (let i = 0; i < needItems; i++) {\n\t\t\tconst cellKey = genKey()\n\t\t\tinsertObject[cellKey] = {\n\t\t\t\t...initialCell,\n\t\t\t\trowKey: row[i],\n\t\t\t\tcolKey: newColKey,\n\t\t\t\tcellKey,\n\t\t\t}\n\t\t}\n\n\t\tif (active) {\n\t\t\tconst { colKey } = cell[active]\n\t\t\tconst curIndex = col.findIndex((e) => e === colKey)\n\t\t\tconst updateIndex = curIndex + +type\n\t\t\tcolArr.splice(updateIndex, 0, newColKey)\n\t\t} else {\n\t\t\tcolArr.push(newColKey)\n\t\t}\n\t\tsetCol(colArr)\n\t\tsetCell((s) => ({\n\t\t\t...s,\n\t\t\t...insertObject,\n\t\t}))\n\t\tsetContextMenu((s) => ({ ...s, isOpen: false }))\n\t}\n\tconst handleSelect = ({ target }) => {\n\t\tif (!active) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst type = target.getAttribute(\"data-object\")\n\t\tconst neededKey = type === \"col\" ? \"colKey\" : \"rowKey\"\n\n\t\tconst key = cell[active][neededKey]\n\n\t\tconst selectedItems = Object.keys(cell).filter(\n\t\t\t(e) => key === cell[e][neededKey]\n\t\t)\n\t\tsetSelectGroup(selectedItems)\n\t\tsetContextMenu((s) => ({ ...s, isOpen: false }))\n\t}\n\n\tuseEffect(() => {\n\t\tif (ref.current && !colStyle && col) {\n\t\t\tconst tableWidth = ref.current.clientWidth\n\t\t\tconst cellWidth = tableWidth / col.length\n\t\t\tconst resizeState = col.reduce((acc, e) => {\n\t\t\t\tif (!acc[e]) {\n\t\t\t\t\tacc[e] = {}\n\t\t\t\t}\n\t\t\t\tacc[e] = { ...initCellStyle, width: cellWidth }\n\t\t\t\treturn acc\n\t\t\t}, {})\n\t\t\tsetColStyle(resizeState)\n\t\t}\n\t}, [ref.current, colStyle, col])\n\n\t// const setAlignmentInTable = (alignment, content, blocks) => {\n\t// \t// because cell style data is kept in the tableShape array stored with\n\t// \t// the first block in the table, we have to update that information here\n\t// \tlet blockMap = content.getBlockMap()\n\t// \tconst tableKey = blocks.first().getData().get(\"tableKey\")\n\t// \tlet firstTableBlock = blockMap.find(\n\t// \t\t(block) => block.getData().get(\"tablePosition\") === `${tableKey}-0-0`\n\t// \t)\n\t// \tconst tableShape = firstTableBlock.getData().get(\"tableShape\")\n\t// \tblocks.forEach((block) => {\n\t// \t\tconst [_, row, col] = block.getData().get(\"tablePosition\").split(\"-\")\n\t// \t\ttableShape[row][col].style = {\n\t// \t\t\t...tableShape[row][col].style,\n\t// \t\t\t\"text-align\": alignment,\n\t// \t\t}\n\t// \t})\n\t// \tlet data = firstTableBlock.getData()\n\t// \tdata = data.set(\"tableShape\", tableShape)\n\t// \tfirstTableBlock = firstTableBlock.merge({ data })\n\t// \tblockMap = blockMap.merge([[firstTableBlock.getKey(), firstTableBlock]])\n\t// \tcontent = content.merge({ blockMap })\n\t// \treturn content\n\t// }\n\treturn (\n\t\t<div className=\"table__wrapper\" ref={ref}>\n\t\t\t<table\n\t\t\t\tclassName=\"table table__edit\"\n\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\tonMouseUp={handleMouseOver}\n\t\t\t\tonMouseLeave={handleMouseOver}\n\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\tonContextMenu={handleContext}\n\t\t\t>\n\t\t\t\t{children({ enterHandler: eventEnter, clicking })}\n\t\t\t</table>\n\t\t\t<TableCtxMenu contextMenu={contextMenu} changeMenu={setContextMenu}>\n\t\t\t\t<button onClick={handleCol} data-value={0}>\n\t\t\t\t\tadd col before\n\t\t\t\t</button>\n\t\t\t\t<button onClick={handleCol} data-value={1}>\n\t\t\t\t\tadd col after\n\t\t\t\t</button>\n\t\t\t\t<button onClick={handleSelect} data-object=\"col\">\n\t\t\t\t\tselect col\n\t\t\t\t</button>\n\t\t\t\t<button onClick={handleSelect} data-object=\"row\">\n\t\t\t\t\tselect row\n\t\t\t\t</button>\n\t\t\t</TableCtxMenu>\n\t\t</div>\n\t)\n}\n\nfunction getPosition(e) {\n\tlet posx = 0\n\tlet posy = 0\n\n\tif (!e) e = window.event\n\n\tif (e.pageX || e.pageY) {\n\t\tposx = e.pageX\n\t\tposy = e.pageY\n\t} else if (e.clientX || e.clientY) {\n\t\tposx =\n\t\t\te.clientX + document.body.scrollLeft + document.documentElement.scrollLeft\n\t\tposy =\n\t\t\te.clientY + document.body.scrollTop + document.documentElement.scrollTop\n\t}\n\n\treturn {\n\t\tx: posx,\n\t\ty: posy,\n\t}\n}\n\nfunction TableCtxMenu({ contextMenu, changeMenu, children }) {\n\tconst { isOpen, target, event } = contextMenu\n\tconst [style, setStyle] = useState({})\n\tconst ref = useRef(null)\n\n\tconst childrenArray = Children.toArray(children)\n\tuseEffect(() => {\n\t\tconst { x, y } = getPosition(event)\n\t\tif (ref.current) {\n\t\t\tconst w = ref.current.clientWidth\n\t\t\tconst { width } = target.getBoundingClientRect()\n\t\t\tlet left = x - 50\n\t\t\tif (width - left < w) {\n\t\t\t\tleft = width - w\n\t\t\t}\n\n\t\t\tsetStyle({ top: y - 50, left })\n\t\t}\n\t}, [event])\n\n\tif (!isOpen) {\n\t\treturn null\n\t}\n\treturn (\n\t\t<>\n\t\t\t<ul ref={ref} className=\"context__menu\" style={style}>\n\t\t\t\t{childrenArray.map((e, i) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={i}>{cloneElement(e, { className: \"context__item\" })}</li>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t\t<span\n\t\t\t\tclassName=\"context__overlay\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tchangeMenu({ isOpen: false, target: false })\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import React, { createContext, useRef, useState } from \"react\"\n\nimport { Editor } from \"draft-js\"\nimport Modal from \"./lib/components/modal\"\nimport ModalTable from \"./lib/modalTable/ModalTable\"\n\nexport const ModalCtx = createContext()\n\nconst initialModal = {\n\tisOpen: false,\n\tdefaultSchema: null,\n\teditorState: null,\n\tgeneralEditorState: null,\n\ttableKey: \"\",\n\ttableSchema: null,\n}\n\nexport default function App({ children }) {\n\tconst [modal, setModal] = useState(initialModal)\n\tconsole.log(\"cmponent has been included!!!\")\n\treturn (\n\t\t<ModalCtx.Provider\n\t\t\tvalue={{\n\t\t\t\tmodal,\n\t\t\t\thandleModal: setModal,\n\t\t\t\thandleEditor: Editor.onChange,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\n\t\t\t<Modal\n\t\t\t\tisOpen={modal.isOpen}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetModal((s) => ({\n\t\t\t\t\t\t...s,\n\t\t\t\t\t\tisOpen: false,\n\t\t\t\t\t}))\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{(close) => <ModalTable closeModal={close} />}\n\t\t\t</Modal>\n\t\t</ModalCtx.Provider>\n\t)\n}\n","import React from 'react'; // eslint-disable-line no-unused-vars\nimport { Image, HorizontalRule, Pagebreak, StyledBlock, Table, ListItem } from './blockRenderComponents';\nimport { camelCase, isEmpty, kebabCase } from 'lodash';\nimport { COLORS, FONTS, FONT_SIZES, MAX_LIST_DEPTH, defaultPreTagStyling } from './constants';\nimport { Map, OrderedSet } from 'immutable';\nimport { DefaultDraftInlineStyle, genKey } from 'draft-js';\n\n/**\n * blockRenderMap, customStyleMap, customStyleFn & getBlockRendererFn are used by draft.js to convert its internal data structure\n * into html for display in the editor's content-editable area.\n */\nexport const blockRenderMap = {\n  unstyled: {\n    element: 'div',\n  },\n  // using section tag for paragraph block type because Draftjs inserts extra divs within the content, resulting in\n  // a validateDOMNesting warning if p tag is used (<div> cannot be a descendant of <p>).\n  // This is only used while content is displayed in the editor. When the paragraph block type\n  // is exported to formLinker a <p> tag is used, as provided in the getStateToHtmlOptions function below.\n  paragraph: {\n    element: 'section',\n  },\n  // pasted-list-item is used for ul/ol lists that were pasted into the editor from another source, e.g. google docs\n  // and thus are formatted differently than natively created lists\n  'pasted-list-item': {\n    element: 'ol',\n  },\n  table: {\n    element: 'div',\n  },\n};\n\nexport const customStyleMap = (() => {\n  const styleMap = { ...DefaultDraftInlineStyle };\n  ['backgroundColor', 'color'].forEach(style => {\n    COLORS.forEach(color => {\n      styleMap[`${style}.${color}`] = { [style]: color };\n    });\n  });\n  FONTS.forEach(font => {\n    styleMap[`fontFamily.${font}`] = { fontFamily: font };\n  });\n  FONT_SIZES.forEach(size => {\n    styleMap[`fontSize.${size}`] = { fontSize: `${size}pt` };\n  });\n  return styleMap;\n})();\n\n// this is for handling inline styles, including draft's default styles, styles from the customStyleMap, and those from the style attribute of the html\nexport const customStyleFn = style => {\n  // \"style\" is an Immutable.js OrderedSet of inline styles for a given range of characters that share the same styling\n\n  // handle draftjs default styles\n  const defaultStyles = style.intersect(['BOLD', 'CODE', 'ITALIC', 'UNDERLINE']).reduce((map, v) => {\n    return map.merge(customStyleMap[v]);\n  }, Map());\n\n  style = style.subtract(['BOLD', 'CODE', 'ITALIC', 'UNDERLINE']);\n\n  // separate out any entries that are a string of multiple styles\n  let groupedStyles = style.filter(v => v.includes(':'));\n  style = style.subtract(groupedStyles);\n\n  // convert string containing multiple styles to a CSS styles object\n  groupedStyles = groupedStyles.reduce((map, v) => {\n    v = convertStyleStringToObject(v);\n    v = Map(v).mapKeys(k => camelCase(k));\n    return map.merge(v);\n  }, Map());\n\n  // convert style strings with single style to CSS styles objects and merge with groupedStyles\n  style = style\n    .map(v => v.split('.'))\n    .filter(v => v.every(vv => vv.length))\n    .reduce((map, v) => {\n      const key = v.shift().trim();\n      const val = v.join('.').trim();\n      return map.merge({ [key]: val });\n    }, groupedStyles.merge(defaultStyles))\n    .toJS();\n\n  if (isEmpty(style)) {\n    return null;\n  }\n  return style;\n};\n\nexport const getBlockRendererFn = (editor, getEditorState, onChange) => block => {\n  const type = block.getType();\n  console.log(block.getType());\n  switch (type) {\n    case 'atomic':\n      return {\n        component: Image,\n        editable: false,\n        props: {\n          editor,\n          getEditorState,\n          onChange,\n        },\n      };\n    case 'horizontal-rule':\n      return {\n        component: HorizontalRule,\n      };\n    case 'page-break':\n      return {\n        component: Pagebreak,\n      };\n    case 'pasted-list-item':\n      return {\n        component: ListItem,\n        editable: true,\n      };\n    case 'unstyled':\n    case 'paragraph':\n    case 'header-one':\n    case 'header-two':\n    case 'header-three':\n    case 'header-four':\n    case 'header-five':\n    case 'header-six':\n    case 'code-block':\n      return {\n        component: StyledBlock,\n        editable: true,\n      };\n    case 'table':\n      return {\n        component: Table,\n        editable: true,\n        props: {\n          editor,\n        },\n      };\n    default:\n      return null;\n  }\n};\n\nlet tableKey;\n\n/**\n * functions for converting html into draft.js data structure state\n */\nexport const stateFromHtmlOptions = {\n  // collect block level metadata\n  customBlockFn: element => {\n    const style = element.getAttribute('style') || '';\n    const className = element.getAttribute('class') || '';\n    let data = convertStyleStringToObject(style) || {};\n    data = className\n      .split(' ')\n      .filter(c => c.length)\n      .reduce((map, c) => {\n        const key = c.includes('depth') ? 'depth' : c;\n        const val = key === 'depth' ? +c.slice(5) : 'class';\n        map[key] = val;\n        return map;\n      }, data);\n    // identify lists that were pasted in from another source rather than created natively in the editor. These get handled as a custom block type.\n    if (\n      element.tagName === 'LI' &&\n      (element.parentNode.getAttribute('start') || element.style.listStyleType !== 'none') &&\n      !element.className.split(' ').find(c => ['ordered-list-item', 'unordered-list-item'].includes(c))\n    ) {\n      const listType = element.parentNode.tagName === 'UL' ? 'ul' : 'ol';\n      if (element.parentNode.firstElementChild === element) {\n        data.listStyles = convertStyleStringToObject(element.parentNode.getAttribute('style') ?? 'margin-left: 36pt;');\n        data.listStart =\n          element.getAttribute('start') ?? element.parentNode.getAttribute('start') ?? (listType === 'ul' ? 0 : 1);\n        let start = data.listStart;\n        for (const child of element.parentNode.children) {\n          if (listType === 'ul') {\n            child.setAttribute('start', 0);\n          } else {\n            child.setAttribute('start', start++);\n          }\n        }\n      } else {\n        data.listStart = element.getAttribute('start');\n      }\n      data['list-style-type'] = element.style.listStyleType || (listType === 'ul' ? 'disc' : 'decimal');\n      return { type: 'pasted-list-item', data };\n    }\n\n    if (element.firstChild && element.firstChild.tagName === 'IMG') {\n      let style = element.firstChild.getAttribute('style');\n      style = convertStyleStringToObject(style);\n      data = {\n        ...data,\n        ...(style && { imgStyle: Map(style) }),\n      };\n      return { type: 'atomic', data }\n    }\n    if (element.tagName === 'PRE') {\n      if (!data.background) {\n        data = convertStyleStringToObject(defaultPreTagStyling.map(v => v.join(': ')).join('; '));\n      }\n      return { type: 'code-block', data };\n    }\n    if (/break-after:|break-before:/.test(element.style.cssText)) {\n      return { type: 'page-break', data };\n    }\n    if (element.tagName === 'P') {\n      const noMargin =\n        element.style.margin?.startsWith('0') ||\n        (element.style.marginTop?.startsWith('0') && element.style.marginBottom?.startsWith('0'));\n      if (noMargin) return { type: 'unstyled', data };\n      return { type: 'paragraph', data };\n    }\n    if ((element.innerText || '').startsWith('---hr---')) {\n      return { type: 'horizontal-rule', data };\n    }\n    if (['TD', 'TH'].includes(element.tagName)) {\n      /**\n       * To preserve tables when converting html into Draft block types, we store the full\n       * table specifications with the first \"cell\", and save the table position for the others\n       */\n      const tableEl = element.closest('table');\n      const tHeadEl = element.closest('thead') ?? tableEl.querySelector('thead');\n      const tBodyEl = element.closest('tbody') ?? tableEl.querySelector('tbody');\n      const tableRows = tableEl.querySelectorAll('tr');\n      // But if this table has a nested table within it\n      // don't render the outer table or Draft-js will crash\n      if (tableEl.querySelector('table')) {\n        return { type: 'unstyled', data };\n      }\n\n      // empty elements get ignored and can break a table, replace unrendered characters,\n      // ensure at minimum there is an non-breaking space\n      if (isEmpty(element.textContent.replace(/\\s/g, ''))) {\n        element.innerHTML = '&nbsp;';\n      }\n\n      const prevCell = element.previousElementSibling;\n      const row = element.parentNode;\n      const prevRow = row.previousElementSibling;\n      // Check if this is not the first cell in the table, if it's not then we traverse the table\n      // structure just far enough to get the cell's position and store it in the data used to create\n      // the corresponding Draft block\n      if (prevCell || prevRow || (tHeadEl && [tableEl, tBodyEl].includes(row.parentNode))) {\n        let found = false;\n        for (let i = 0, rows = tableRows, rowCount = rows.length; i < rowCount; i++) {\n          for (let j = 0, cells = rows[i].children, colCount = cells.length; j < colCount; j++) {\n            if (cells[j] === element) {\n              data.tableKey = tableKey;\n              data.tablePosition = `${tableKey}-${i}-${j}`;\n              data.colspan = cells[j].getAttribute('colspan');\n              data.rowspan = cells[j].getAttribute('rowspan');\n              found = true;\n              break;\n            }\n          }\n          if (found) {\n            break;\n          }\n        }\n        return { type: 'table', data };\n      }\n      // Only the first cell in the table will go through the processing below, so the Draft block\n      // created for it will have all the necessary data to render the empty table structure into\n      // which we render the rest of the table blocks.\n      const colgroup = tableEl.querySelector('colgroup');\n      const tableShape = [];\n      tableKey = genKey();\n      data.tableKey = tableKey;\n      data.tablePosition = `${tableKey}-0-0`;\n      data.tableStyle = convertStyleStringToObject(tableEl.getAttribute('style')) || {\n        margin: '15px 0',\n        width: '100%',\n      };\n      data.tableStyle['border-collapse'] = 'collapse';\n      for (let i = 0, rows = tableRows, rowCount = rows.length; i < rowCount; i++) {\n        tableShape.push([]);\n        const defaultStyle = {};\n        if (i === 0) {\n          if (element.tagName === 'TH') {\n            defaultStyle['background-color'] = 'rgba(240, 240, 240, 0.8)';\n          }\n          data.rowStyle = [convertStyleStringToObject(rows[i].getAttribute('style')) || defaultStyle];\n        } else {\n          data.rowStyle.push(convertStyleStringToObject(rows[i].getAttribute('style')) || defaultStyle);\n        }\n        for (let j = 0, cells = rows[i].children, colCount = cells.length; j < colCount; j++) {\n          const defaultStyle = { border: '1px solid rgba(0, 0, 0, 0.2)', padding: '6px', 'text-align': 'center' };\n          if (cells[j].tagName === 'TH') {\n            defaultStyle['font-weight'] = 'bold';\n          }\n          const cellStyle = convertStyleStringToObject(cells[j].getAttribute('style')) || defaultStyle;\n          tableShape[i][j] = {\n            element: cells[j].tagName === 'TD' ? 'td' : 'th',\n            style: cellStyle,\n            colspan: cells[j].getAttribute('colspan'),\n            rowspan: cells[j].getAttribute('rowspan'),\n          };\n        }\n      }\n\n      data.tableShape = tableShape;\n      data.tableColgroup = colgroup?.outerHTML;\n      return { type: 'table', data };\n    }\n    return { data };\n  },\n\n  // collect inline style data - inline type elements are passed through this function (span, img, a, etc.)\n  customInlineFn: (element, { Style, Entity }) => {\n    if (element.tagName === 'IMG') {\n      // image styling is handled in the customBlockFn above\n      return null;\n    }\n    if (element.tagName === 'A') {\n      let data = {};\n      if (element.hasAttribute('target')) {\n        data = { target: element.getAttribute('target'), rel: 'noreferrer' };\n      }\n      return Entity('LINK', { ...data, url: element.getAttribute('href') });\n    }\n    let style = element.getAttribute('style');\n\n    if (!style) {\n      return null;\n    }\n\n    // if the element has multiple styles applied pass them all together as-is because the html import library's\n    // \"Style\" function currently doesn't support processing multiple styles separately\n    if (style.includes(';')) {\n      return Style(style);\n    }\n    // otherwise format the style to match the customStyleMap\n    style = style.split(':');\n    const key = camelCase(style.shift().trim());\n    const val = style.join(':').trim();\n    style = `${key}.${val}`;\n    if (style === 'textDecoration.underline') {\n      return null;\n    } // underline is handled automatically, don't override it\n    return Style(style);\n  },\n};\n\n// helper function converts style attribute string into key-value pairs\nfunction convertStyleStringToObject(style = '', data = {}) {\n  if (!style) {\n    return null;\n  }\n  return style\n    .split(';')\n    .filter(s => s.includes(':'))\n    .map(s => s.split(':'))\n    .reduce((map, s) => {\n      const key = s.shift().trim();\n      const val = s.join(':').trim();\n      map[key] = val;\n      return map;\n    }, data);\n}\n\n/**\n * function receives contentState from a draft.js instance and returns a set of helper functions\n * used to convert draft.js internal state into html for export outside of draft.js.\n */\nexport const getStateToHtmlOptions = contentState => ({\n  /**\n   * NOTE: the rich text editor relies on the following styles for ordered lists. For ordered list numbering to display correctly\n   * these styles should be included in the style tag or style sheet of any document that includes content from the rich text editor:\n   * .ordered-list-item:before { left: -36px; position: absolute; text-align: right; width: 30px; }\n   * .ordered-list-item:before { content: counter(ol0) \". \"; counter-increment: ol0; }\n   * .ordered-list-item.depth1:before { content: counter(ol1, lower-alpha) \") \"; counter-increment: ol1; }\n   * .ordered-list-item.depth2:before { content: counter(ol2, lower-roman) \". \"; counter-increment: ol2; }\n   * .ordered-list-item.depth3:before { content: counter(ol3, upper-alpha) \". \"; counter-increment: ol3; }\n   * .ordered-list-item.depth4:before { content: counter(ol4) \". \"; counter-increment: ol4; }\n   * .list.depth0:first-of-type { counter-reset: ol0; }\n   * .list.depth1:first-of-type { counter-reset: ol1; }\n   * .list.depth2:first-of-type { counter-reset: ol2; }\n   * .list.depth3:first-of-type { counter-reset: ol3; }\n   * .list.depth4:first-of-type { counter-reset: ol4; }\n   **/\n  inlineStyles: (() => {\n    const styles = {\n      BOLD: { style: { fontWeight: 'bold' } },\n      ITALIC: { style: { fontStyle: 'italic' } },\n      UNDERLINE: { style: { textDecoration: 'underline' } },\n      STRIKETHROUGH: { style: { textDecoration: 'line-through' } },\n    };\n    ['backgroundColor', 'color'].forEach(style => {\n      COLORS.forEach(color => {\n        styles[`${style}.${color}`] = { style: { [style]: color } };\n      });\n    });\n    FONTS.forEach(font => {\n      styles[`fontFamily.${font}`] = { style: { fontFamily: font } };\n    });\n    FONT_SIZES.forEach(size => {\n      styles[`fontSize.${size}`] = { style: { fontSize: `${size}pt` } };\n    });\n    return styles;\n  })(),\n\n  // this handles converting any inline styles not matched by the inlineStyles map above (custom added styles)\n  inlineStyleFn: style => {\n    style = customStyleFn(style);\n    return (\n      style && {\n        element: 'span',\n        style,\n      }\n    );\n  },\n\n  // Converting (rendering) custom block types, like \"paragraph\" and \"horizontal-rule\" to html is handled here\n  blockRenderers: {\n    'code-block': block => {\n      const blockStyles = OrderedSet(defaultPreTagStyling.map(v => v.join(': ')));\n      return `<pre${getClassesAndStyles({ block, blockStyles })}>${buildHtmlForBlockText(\n        '',\n        block,\n        contentState\n      )}</pre>`;\n    },\n    'page-break': block => {\n      return '<div style=\"page-break-after: always\"><br></div>';\n    },\n    // each draft.js block of type \"paragraph\" is passed through this function for export as html\n    paragraph: block => {\n      if (block.getLength() === 0) {\n        return `<p${getClassesAndStyles({ block })}><br></p>`;\n      }\n      // get block-level styling and classes if any\n      // \"result\" will be the html eventually returned from this function\n      const result = `<p${getClassesAndStyles({ block })}>${buildHtmlForBlockText('', block, contentState)}</p>`;\n      return result;\n    },\n    unstyled: block => {\n      if (block.getLength() === 0) {\n        return `<div${getClassesAndStyles({ block })}><br></div>`;\n      }\n      // get block-level styling and classes if any\n      // \"result\" will be the html eventually returned from this function\n      const result = `<div${getClassesAndStyles({ block })}>${buildHtmlForBlockText('', block, contentState)}</div>`;\n      return result;\n    },\n    'horizontal-rule': block => {\n      return '<hr>';\n    },\n    atomic: block => {\n      const data = block.getData();\n      let figStyle = [];\n      let imgStyle = [];\n      let classes = [];\n      data.forEach((v, k) => {\n        if (v === 'class') {\n          classes.push(k);\n        } else if (k === 'imgStyle') {\n          // styles on img tag are saved under the key imgStyle\n          v.forEach((vv, kk) => imgStyle.push(`${kk}: ${vv}`));\n        } else {\n          figStyle.push(`${k}: ${v}`);\n        }\n      });\n      const float = data.get('float');\n      if (float && !data.get('margin')) {\n        figStyle.push(float === 'right' ? 'margin: 0 8px 0 0' : 'margin: 0 0 0 8px');\n      }\n      if (block.get('depth')) {\n        figStyle.push(`margin-left: ${block.get('depth') * 2.5}em; `);\n      }\n      classes = classes.join(' ') && ` class=\"${classes.join(' ')}\"`;\n      figStyle = figStyle.join('; ') && ` style=\"${figStyle.join('; ')}\"`;\n      imgStyle = ` style=\"${imgStyle.join('; ')}\"`;\n\n      const { src } = (block.getEntityAt(0) && contentState.getEntity(block.getEntityAt(0)).getData()) || {};\n      return `<figure${classes}${figStyle}><img src=\"${src}\"${imgStyle}/></figure>`;\n    },\n    'pasted-list-item': block => {\n      const prevBlock = contentState.getBlockBefore(block.getKey());\n      if (prevBlock?.getType() === block.getType()) {\n        return '';\n      }\n      const data = block.getData();\n      let start = data.get('listStart');\n      start = (start && ` start=\"${start}\"`) || '';\n      let listStyles = Map(data.get('listStyles'))\n        .reduce((set, v, k) => {\n          return set.add(`${k}: ${v}`);\n        }, OrderedSet())\n        .toArray()\n        .join('; ');\n      listStyles = listStyles && ` style=\"${listStyles}\"`;\n      const listItems = contentState\n        .getBlockMap()\n        .skipUntil(v => v === block)\n        .takeWhile(v => v.getType().endsWith('list-item'))\n        .toList();\n      const listTag = block.getData().get('listStart') > 0 ? 'ol' : 'ul';\n      let currentDepth = block.getDepth();\n      return `<${listTag}${listStyles}${start}>${listItems\n        .map(block => {\n          const depth = block.getDepth();\n          const openTag = depth > currentDepth ? `<${listTag}><li` : depth < currentDepth ? `</${listTag}><li` : '<li';\n          currentDepth = depth;\n          return `\n${openTag}${getClassesAndStyles({ block })}>${buildHtmlForBlockText('', block, contentState)}</li>`;\n        })\n        .toArray()\n        .join('')}</${listTag}>`;\n    },\n    table: block => {\n      const prevBlock = contentState.getBlockBefore(block.getKey());\n      if (prevBlock && prevBlock.getType() === 'table') {\n        return '';\n      }\n      const data = block.getData();\n      const tableShape = data.get('tableShape');\n      if (!tableShape) {\n        return '<table><tbody><tr><td>&nbsp;</td></tr></tbody></table>';\n      }\n      let tableStyle = Map(data.get('tableStyle'))\n        .reduce((set, v, k) => {\n          return set.add(`${k}: ${v}`);\n        }, OrderedSet())\n        .toArray()\n        .join('; ');\n      tableStyle = tableStyle && ` style=\"${tableStyle}\"`;\n      const tableKey = data.get('tableKey');\n      const tableBlocks = contentState\n        .getBlockMap()\n        .skipUntil(v => v.getType() === 'table' && v.getData().get('tableKey') === tableKey)\n        .takeWhile(v => v.getType() === 'table')\n        .toList();\n      const colgroup = data.get('tableColgroup') ?? '';\n      let cellCounter = 0;\n      return `<table${tableStyle}>${colgroup}<tbody>${tableShape\n        .map((row, i) => {\n          let rowStyle = Map(block.getData().get('rowStyle')[i])\n            .reduce((set, v, k) => {\n              return set.add(`${k}: ${v}`);\n            }, OrderedSet())\n            .toArray()\n            .join('; ');\n          rowStyle = rowStyle && ` style=\"${rowStyle}\"`;\n          return `<tr${rowStyle}>${row\n            .map((cell, j) => {\n              const tag = cell.element;\n              let cellStyle = Map(cell.style)\n                .reduce((set, v, k) => {\n                  return set.add(`${k}: ${v}`);\n                }, OrderedSet())\n                .toArray()\n                .join('; ');\n              cellStyle = cellStyle && ` style=\"${cellStyle}\"`;\n              let cellBlock = tableBlocks.get(cellCounter);\n              let colspan = cellBlock.getData().get('colspan');\n              colspan = colspan ? ` colspan=${colspan}` : '';\n              let rowspan = cellBlock.getData().get('rowspan');\n              rowspan = rowspan ? ` rowspan=${rowspan}` : '';\n\n              const [, rowNum, colNum] = cellBlock?.getData().get('tablePosition').split('-') ?? [];\n              if (i !== +rowNum || j !== +colNum) {\n                cellBlock = null;\n              } else {\n                cellCounter++;\n              }\n              return `<${tag}${cellStyle}${colspan}${rowspan}>${buildHtmlForBlockText(\n                '',\n                cellBlock,\n                contentState\n              )}</${tag}>`;\n            })\n            .join('')}</tr>`;\n        })\n        .join('')}</tbody></table>`;\n    },\n  },\n\n  // blockStyleFn: block => {\n  //   const type = block.getType();\n  //   const depth = block.getDepth();\n  //   const data = block.getData();\n  //   const attributes = {};\n  //   let styles = OrderedSet();\n  //   let classes = OrderedSet();\n\n  //   data.forEach((v, k) => {\n  //     if (v === 'class') {\n  //       classes = classes.add(k);\n  //     } else if (!['depth', 'listStyles', 'listStart'].includes(k)) {\n  //       styles = styles.add(`${k}: ${v}`);\n  //     }\n  //   });\n\n  //   if (depth > 0 && !type.includes('list-item')) {\n  //     styles = styles.add(`margin-left:${2.5 * depth}em`);\n  //   } else if (type.includes('unordered-list-item') && depth <= MAX_LIST_DEPTH) {\n  //     classes.remove('ordered-list-item');\n  //     classes = OrderedSet.of('list', 'unordered-list-item', `depth${depth}`).union(classes);\n  //     styles = OrderedSet.of(\n  //       `margin-left:${1.5 + (depth === 0 ? 1 : 0)}em`,\n  //       `list-style-type: ${depth === 0 ? 'disc' : depth === 1 ? 'circle' : 'square'}`,\n  //       'position: relative'\n  //     ).union(styles);\n  //   } else if (type.includes('ordered-list-item') && depth <= MAX_LIST_DEPTH) {\n  //     classes.remove('unordered-list-item');\n  //     classes = OrderedSet.of('list', 'ordered-list-item', `depth${depth}`).union(classes);\n  //     styles = OrderedSet.of(\n  //       `margin-left: ${1.5 + (depth === 0 ? 1 : 0)}em`,\n  //       'list-style-type: none',\n  //       'position: relative'\n  //     ).union(styles);\n  //   }\n\n  //   if (type === 'blockquote')\n  //     styles = styles.add(\n  //       \"color: #999999; font-family: 'Hoefler Text', Georgia, serif; font-style: italic; line-height: 1.15em; border: none; border-left: 5px solid rgba(100, 100, 100, 0.5); margin: 0 2em; padding-left: 1em;\"\n  //     );\n  //   if (classes.size) attributes.class = classes.toArray().join(' ');\n  //   if (styles.size) attributes.style = styles.toArray().join(';');\n  //   return { attributes };\n  // },\n\n  defaultBlockTag: 'div',\n\n  entityStyleFn: entity => {\n    const entityType = entity.get('type').toLowerCase();\n    if (entityType === 'video') {\n      const { src } = entity.getData();\n      return {\n        element: 'video',\n        attributes: {\n          src: src,\n        },\n      };\n    }\n  },\n});\n\nfunction getClassesAndStyles({ block, blockStyles = OrderedSet(), classes = OrderedSet() }) {\n  const data = block.getData();\n  data\n    .filter((v, k) => !['depth', 'listStyles', 'listStart'].includes(k))\n    .forEach((v, k) => {\n      if (v === 'class') {\n        classes = classes.add(k);\n      } else {\n        blockStyles = blockStyles.add(`${k}: ${v}`);\n      }\n    });\n  const margin = block.get('depth');\n  if (margin) {\n    blockStyles = OrderedSet.of([`margin-left: ${margin * 2.5}em`]).union(blockStyles);\n  }\n  // convert classes & styles to strings and return\n  classes = (classes.size && ` class=\"${classes.toArray().join(' ')}\"`) || '';\n  blockStyles = (blockStyles.size && ` style=\"${blockStyles.toArray().join('; ')}\"`) || '';\n  return `${classes}${blockStyles}`;\n}\n\nfunction buildHtmlForBlockText(result, block, contentState) {\n  if (!block) {\n    return '<span>&nbsp;</span>';\n  }\n  // now build the html for all inline styles for each \"styleRange\" in the block. A styleRange is\n  // any sequence in the block where the characters share the same inline styling.\n  block.findStyleRanges(\n    () => true,\n    (s, e) => {\n      let close = '';\n      let styles = block.getInlineStyleAt(s);\n      styles = Map(customStyleFn(styles))\n        .reduce((styleSet, v, k) => {\n          k = kebabCase(k);\n          if (k === 'font-size' && /^\\d*$/.test(v)) v += 'pt';\n          return styleSet.add(`${k}: ${v}`);\n        }, OrderedSet())\n        .toArray()\n        .join('; ');\n\n      styles = styles ? ` style=\"${styles}\"` : '';\n      // If a styleRange overlaps with an \"entity\" that starts and ends at the same points in the block\n      // the entity represents an embeded link\n      const startKey = block.getEntityAt(s);\n      const endKey = block.getEntityAt(e - 1);\n      const entity = startKey && startKey === endKey ? contentState.getEntity(startKey) : null;\n\n      if (styles) {\n        result += `<span${styles}>`;\n        close = '</span>' + close;\n      }\n      // Now add the text content of the block for the current styleRange. If a \"link\" entity exists for this range\n      // then wrap the text content in an anchor tag and add the href.\n      // The multiple \"replace\" calls prevent empty paragraphs and extra spaces from collapsing and failing to render.\n      const textContent = block\n        .getText()\n        .slice(s, e)\n        .replace(/\\n/g, '<br/>')\n        .replace(/\\s{2,}?/g, '&nbsp;&nbsp;')\n        .replace(/^\\s$/g, '&nbsp;');\n      if (entity && entity.get('type') === 'LINK') {\n        const { url, target } = entity.getData();\n        result += `<a href=\"${url}\" ${target ? `target=\"${target}\" rel=\"noreferrer\"` : ''}>${textContent}</a>`;\n      } else {\n        result += textContent;\n      }\n      result += close;\n    }\n  );\n  return result;\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\"\nimport { ModalCtx } from \"../App\"\nimport { stateToHTML } from \"draft-js-export-html\"\nimport { getStateToHtmlOptions } from \"./renderConfig\"\nimport parser from \"html-react-parser\"\n\nexport default function RenderTable(props) {\n\tconst [initialCellWidth, setInitialCellWidt] = useState(200)\n\tconst wrapperRef = useRef(null)\n\tconst editor = props.blockProps.getEditorRef()\n\tconst editorState = props.blockProps.getEditorState()\n\tconst { onChange } = props.blockProps.getProps()\n\tconst { block } = props\n\tconst data = block.getData()\n\tconst tableKey = data.get(\"tableKey\")\n\tconst defaultSchema = data.get(\"defaultSchema\")\n\tconst tableSchema = data.get(\"tableSchema\")\n\tconst row = data.get(\"row\")\n\tconst cell = data.get(\"cell\")\n\tconst col = data.get(\"col\")\n\tconst aligment = data.get(\"aligment\")\n\tconst colStyle = data.get(\"colStyle\")\n\n\tconst schema = tableSchema || defaultSchema\n\n\tconst modalCtx = useContext(ModalCtx)\n\n\tfunction handleModalChange() {\n\t\tmodalCtx.handleModal((s) => ({\n\t\t\t...s,\n\t\t\tisOpen: !s.isOpen,\n\t\t\tgeneralEditorState: editorState,\n\t\t\tdefaultSchema,\n\t\t\ttableSchema,\n\t\t\ttableKey,\n\t\t\tonChange,\n\t\t\trow,\n\t\t\tcell,\n\t\t\tcol,\n\t\t\taligment,\n\t\t\tcolStyle,\n\t\t}))\n\t}\n\n\tconst syncContenteditable = (disabled) => {\n\t\tif (disabled) {\n\t\t\tconst editableDivs =\n\t\t\t\teditor.current?.editor.querySelectorAll('[contenteditable=\"true\"]') ??\n\t\t\t\t[]\n\t\t\teditableDivs.forEach((div) => {\n\t\t\t\tdiv.setAttribute(\"contenteditable\", \"false\")\n\t\t\t\tdiv.setAttribute(\"data-editable-disabled\", \"true\")\n\t\t\t})\n\t\t} else if (!disabled) {\n\t\t\tconst editableDivs =\n\t\t\t\teditor.current?.editor.querySelectorAll(\n\t\t\t\t\t'[data-editable-disabled=\"true\"]'\n\t\t\t\t) ?? []\n\t\t\teditableDivs.forEach((div) => {\n\t\t\t\tdiv.setAttribute(\"contenteditable\", \"true\")\n\t\t\t\tdiv.removeAttribute(\"data-editable-disabled\")\n\t\t\t})\n\t\t}\n\t}\n\tuseEffect(() => {\n\t\tsyncContenteditable(props.disabled)\n\t}, [props.disabled])\n\n\tuseEffect(() => {\n\t\tif (wrapperRef.current && schema[0]?.length) {\n\t\t\tsetInitialCellWidt(wrapperRef?.current.clientWidth /  schema[0]?.length)\n\t\t}\n\t}, [wrapperRef, schema])\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"wrapper\" ref={wrapperRef}>\n\t\t\t\t<table\n\t\t\t\t\tkey={tableKey}\n\t\t\t\t\tid={tableKey}\n\t\t\t\t\tborder={1}\n\t\t\t\t\tclassName=\"RenderTableWrapper\"\n\t\t\t\t>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{schema.map((row, i) => (\n\t\t\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t\t\t{row.map((cell, j) => {\n\t\t\t\t\t\t\t\t\tconst width = colStyle && colStyle[cell.colKey]?.width\n\t\t\t\t\t\t\t\t\tif (!cell.contentState) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\t\tkey={j}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-position={`${tableKey}-${i}-${j}`}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: initialCellWidth }}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"content\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ minHeight: \"16px\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tconst options = getStateToHtmlOptions(cell.contentState)\n\t\t\t\t\t\t\t\t\tconst content = stateToHTML(cell.contentState, options)\n\t\t\t\t\t\t\t\t\tconst aligment = cell?.aligment || \"center\"\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\tkey={cell.cellKey}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width, textAlign: aligment }}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"content\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border border_top\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border border_left\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border border_right\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border border_bottom\" />\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"content\" style={{ minHeight: \"16px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{parser(content.replace(/\\n/g, \"\"))}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<button className=\"button__edit\" onClick={handleModalChange}>\n\t\t\t\t\tEdit\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nRenderTable.defaultProps = {\n\tdisabled: false,\n}\n","import React from \"react\"\nimport {\n\tEditorState,\n\tKeyBindingUtil,\n\tModifier,\n\tRichUtils,\n\tgetDefaultKeyBinding,\n} from \"draft-js\"\nimport { unionWith } from \"lodash\"\nimport { OrderedSet } from \"immutable\"\nimport { Keys,  MAX_LIST_DEPTH } from \"../lib/constants\"\nimport { handleTabInTable } from \"./utils\"\nimport CreateTableComponent from \"../lib/Table\"\nimport RenderTable from \"../lib/RenderTable\"\n\nexport default () => {\n\treturn {\n\t\tblockRendererFn: (block, props) => {\n\t\t\tif (block?.getData()?.get(\"dataType\") === \"table-create\") {\n\t\t\t\treturn {\n\t\t\t\t\tcomponent: CreateTableComponent,\n\t\t\t\t\tprops: { ...props, block },\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (block?.getData()?.get(\"dataType\") === \"table-cel\") {\n\t\t\t\treturn {\n\t\t\t\t\tcomponent: RenderTable,\n\t\t\t\t\tprops: { ...props, block },\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tkeyBindingFn: (e, props) => {\n\t\t\tconst editorState = props.getEditorState()\n\t\t\tconst { onChange } = props.getProps()\n\t\t\tconst { hasCommandModifier } = KeyBindingUtil\n\t\t\tif (\n\t\t\t\t!editorState.getCurrentContent().hasText() &&\n\t\t\t\t[\"unstyled\", \"paragraph\"].includes(\n\t\t\t\t\teditorState.getCurrentContent().getFirstBlock().getType()\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t;(async () => {\n\t\t\t\t\tconst currentStyle = editorState.getCurrentInlineStyle().toArray()\n\t\t\t\t\t// merge user selected styles with defaults, overriding defaults where they conflict\n\t\t\t\t\tconst styles = unionWith(\n\t\t\t\t\t\tcurrentStyle,\n\t\t\t\t\t\tprops.defaultStyles,\n\t\t\t\t\t\t(v1, v2) => v1.split(\".\")[0] === v2.split(\".\")[0]\n\t\t\t\t\t)\n\t\t\t\t\tawait onChange(\n\t\t\t\t\t\tEditorState.setInlineStyleOverride(editorState, OrderedSet(styles))\n\t\t\t\t\t)\n\t\t\t\t})()\n\t\t\t}\n\t\t\tif (e.keyCode === Keys.B && e.shiftKey && hasCommandModifier(e)) {\n\t\t\t\treturn \"bullet_list\"\n\t\t\t} else if (e.keyCode === Keys.B && hasCommandModifier(e)) {\n\t\t\t\treturn \"BOLD\"\n\t\t\t} else if (e.keyCode === Keys.L && e.shiftKey && hasCommandModifier(e)) {\n\t\t\t\treturn \"ordered_list\"\n\t\t\t} else if (e.keyCode === Keys.L && hasCommandModifier(e)) {\n\t\t\t\treturn \"float_left\"\n\t\t\t} else if (e.keyCode === Keys.R && hasCommandModifier(e)) {\n\t\t\t\treturn \"float_right\"\n\t\t\t} else if (e.keyCode === Keys.I && hasCommandModifier(e)) {\n\t\t\t\treturn \"ITALIC\"\n\t\t\t} else if (e.keyCode === Keys[\"]\"] && hasCommandModifier(e)) {\n\t\t\t\treturn \"INDENT\"\n\t\t\t} else if (e.keyCode === Keys.U && hasCommandModifier(e)) {\n\t\t\t\treturn \"UNDERLINE\"\n\t\t\t} else if (e.keyCode === Keys[\"[\"] && hasCommandModifier(e)) {\n\t\t\t\treturn \"OUTDENT\"\n\t\t\t} else if (\n\t\t\t\te.keyCode === Keys.Backspace &&\n\t\t\t\t!hasCommandModifier(e) &&\n\t\t\t\t!e.altKey\n\t\t\t) {\n\t\t\t\treturn \"backspace\"\n\t\t\t\t// Tab & shift+Tab handled here instead of handleKeyCommand because RichUtils.onTab requires event reference\n\t\t\t} else if (e.keyCode === Keys.Delete) {\n\t\t\t\treturn \"delete\"\n\t\t\t} else if (e.keyCode === Keys.Tab && e.shiftKey) {\n\t\t\t\tconst currentBlockType = RichUtils.getCurrentBlockType(editorState)\n\t\t\t\tif (currentBlockType.includes(\"list-item\")) {\n\t\t\t\t\tonChange(RichUtils.onTab(e, editorState, MAX_LIST_DEPTH))\n\t\t\t\t} else if (currentBlockType === \"table\") {\n\t\t\t\t\thandleTabInTable(\"previous\", false, editorState, onChange)\n\t\t\t\t}\n\t\t\t\treturn \"shiftTab\"\n\t\t\t} else if (e.keyCode === Keys.Tab) {\n\t\t\t\tconst currentBlockType = RichUtils.getCurrentBlockType(editorState)\n\t\t\t\tif (RichUtils.getCurrentBlockType(editorState).includes(\"list-item\")) {\n\t\t\t\t\tonChange(RichUtils.onTab(e, editorState, MAX_LIST_DEPTH))\n\t\t\t\t} else if (currentBlockType === \"table\") {\n\t\t\t\t\thandleTabInTable(\"next\", false, editorState, onChange)\n\t\t\t\t} else {\n\t\t\t\t\tconst newContentState = Modifier.replaceText(\n\t\t\t\t\t\teditorState.getCurrentContent(),\n\t\t\t\t\t\teditorState.getSelection(),\n\t\t\t\t\t\t\"     \"\n\t\t\t\t\t)\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tEditorState.push(editorState, newContentState, \"insert-characters\")\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\treturn \"tab\"\n\t\t\t}\n\t\t\treturn getDefaultKeyBinding(e)\n\t\t},\n\t}\n}\n","import React, { useState } from 'react';\n\nconst rows = Array(8).fill(1);\nconst grid = Array(8).fill([...rows]);\n\nconst TableGrid = props => {\n  const [size, setSize] = useState({ cols: 0, rows: 0 });\n\n  const handleHover = (i, j) => {\n    setSize({ cols: j + 1, rows: i + 1 });\n  };\n\n  const handleSelect = () => {\n    props.handleSubmit(size);\n  };\n\n  const grayCell = {\n    border: '1px solid rgba(150, 150, 150, 1)',\n    background: 'rgba(200, 200, 200, 0.4)',\n  };\n\n  const blueCell = {\n    border: '1px solid rgba(0, 125, 250, 0.8)',\n    background: 'rgba(0, 125, 250, 0.4)',\n  };\n  return (\n    <div>\n      <div style={{ margin: '10px 10px 5px' }}>\n        {grid.map((row, i) => (\n          <div\n            key={i}\n            style={{ display: 'flex', width: 136, justifyContent: 'space-between', padding: 1, cursor: 'pointer' }}\n          >\n            {row.map((cell, j) => {\n              const isSelected = i <= size.rows - 1 && j <= size.cols - 1;\n\n              const style = isSelected?blueCell:grayCell\n              return (\n                <div\n                  key={`${i}-${j}`}\n                  style={{ flex: '0 0 15px', height: 15, ...style }}\n                  onMouseEnter={() => handleHover(i, j)}\n                  onClick={handleSelect}\n                ></div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n      <div css={{ margin: 10, fontSize: 12 }}>\n        Insert table size: {size.cols} x {size.rows}\n      </div>\n    </div>\n  );\n};\n\nexport default TableGrid;\n","import TableGrid from \"./toolbar/tableGrid\"\nimport Dropdown from \"./toolbar/richEditorDropdown\"\nimport {\n\tgenKey,\n\tContentBlock,\n\tModifier,\n\tSelectionState,\n\tEditorState,\n\tContentState,\n} from \"draft-js\"\nimport { Map } from \"immutable\"\n\nexport default (props) => {\n\tconst state = props.getEditorState()\n\tconst onSelected = (size) => {\n\t\tconst { cols, rows } = size\n\n\t\tlet selection = state.getSelection()\n\t\tif (!selection.isCollapsed()) {\n\t\t\treturn null\n\t\t}\n\n\t\t// don't insert a table within a table\n\t\tif (\n\t\t\tstate\n\t\t\t\t.getCurrentContent()\n\t\t\t\t.getBlockForKey(selection.getAnchorKey())\n\t\t\t\t.getData()\n\t\t\t\t?.get(\"dataType\") === \"table-cell\"\n\t\t) {\n\t\t\treturn null\n\t\t}\n\t\tconst tableKey = genKey()\n\t\tconst data = Map({\n\t\t\ttableKey,\n\t\t\taligment: \"center\",\n\t\t\tcols,\n\t\t\trows,\n\t\t\tdataType: \"table-create\",\n\t\t})\n\t\tconst newBlock = new ContentBlock({\n\t\t\tkey: genKey(),\n\t\t\ttype: \"table\",\n\t\t\ttext: \" \",\n\t\t\tdata,\n\t\t})\n\t\tconst newBlocks = []\n\t\tnewBlocks.push(newBlock)\n\t\tconst selectionKey = selection.getAnchorKey()\n\t\tlet contentState = state.getCurrentContent()\n\t\tcontentState = Modifier.splitBlock(contentState, selection)\n\t\tconst blockArray = contentState.getBlocksAsArray()\n\t\tconst currBlock = contentState.getBlockForKey(selectionKey)\n\t\tconst index = blockArray.findIndex((block) => block === currBlock)\n\t\tconst isEnd = index === blockArray.length - 1\n\n\t\tif (blockArray[index]?.getData()?.get(\"dataType\") === \"table-create\") {\n\t\t\tnewBlocks.unshift(new ContentBlock({ key: genKey() }))\n\t\t}\n\t\tif (blockArray[index + 1]?.getData()?.get(\"dataType\") === \"table-create\") {\n\t\t\tnewBlocks.push(new ContentBlock({ key: genKey() }))\n\t\t}\n\t\tblockArray.splice(index + 1, 0, ...newBlocks)\n\t\tif (isEnd) {\n\t\t\tblockArray.push(new ContentBlock({ key: genKey() }))\n\t\t}\n\n\t\tconst entityMap = contentState.getEntityMap()\n\t\tcontentState = ContentState.createFromBlockArray(blockArray, entityMap)\n\t\tlet newEditorState = EditorState.push(\n\t\t\tstate,\n\t\t\tcontentState,\n\t\t\t\"insert-fragment\"\n\t\t)\n\t\tconst key = blockArray[0].getKey()\n\n\t\tselection = SelectionState.createEmpty(key)\n\t\tnewEditorState = EditorState.acceptSelection(newEditorState, selection)\n\t\tprops.onChange(newEditorState)\n\t}\n\treturn (\n\t\t<Dropdown\n\t\t\trender={(rest) => <TableGrid {...rest} />}\n\t\t\tcontrolWidth={40}\n\t\t\tdropdownWidth={160}\n\t\t\ticon={\"table-sld\"}\n\t\t\tmethod={\"tableDropdown\"}\n\t\t\tactiveOption={{ display: { icon: \"table-sld\" } }}\n\t\t\teditor={props.editor}\n\t\t\tonSelect={onSelected}\n\t\t\tkey={\"insertTable\"}\n\t\t/>\n\t)\n}\n","import {\n  faAlignCenter,\n  faAlignJustify,\n  faAlignLeft,\n  faAlignRight,\n  faArrowDown,\n  faArrowLeft,\n  faArrowRight,\n  faArrowUp,\n  faBackward,\n  faBars,\n  faBan,\n  faBold,\n  faCheck,\n  faCheckSquare,\n  faChevronDown,\n  faChevronRight,\n  faChevronLeft,\n  faChevronUp,\n  faCloudUploadAlt,\n  faCircle,\n  faCode,\n  faCog,\n  faCompressAlt,\n  faDollarSign,\n  faDownload,\n  faExclamationCircle,\n  faExclamationTriangle,\n  faExpandAlt,\n  faEye,\n  faEyeSlash,\n  faFilter,\n  faFlag,\n  faFont,\n  faForward,\n  faImage,\n  faIndent,\n  faItalic,\n  faLink,\n  faListOl,\n  faListUl,\n  faLock,\n  faLongArrowAltRight,\n  faMapMarkerAlt,\n  faOutdent,\n  faPaintBrush,\n  faParagraph,\n  faPencilAlt,\n  faPrint,\n  faQuestion,\n  faQuoteRight,\n  faSearch,\n  faSearchPlus,\n  faSearchMinus,\n  faSortUp,\n  faSortDown,\n  faSquare,\n  faStepBackward,\n  faStepForward,\n  faStrikethrough,\n  faSyncAlt,\n  faTable,\n  faTint,\n  faTrashAlt,\n  faUnderline,\n  faUser,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\n\nfunction iconLibrary() {\n  library.add(\n    faAlignCenter,\n    faAlignJustify,\n    faAlignLeft,\n    faAlignRight,\n    faArrowDown,\n    faArrowLeft,\n    faArrowRight,\n    faArrowUp,\n    faBackward,\n    faBars,\n    faBan,\n    faBold,\n    faCheck,\n    faCheckSquare,\n    faChevronDown,\n    faChevronRight,\n    faChevronLeft,\n    faChevronUp,\n    faCloudUploadAlt,\n    faCircle,\n    faCode,\n    faCog,\n    faCompressAlt,\n    faDollarSign,\n    faDownload,\n    faExclamationCircle,\n    faExclamationTriangle,\n    faExpandAlt,\n    faEye,\n    faEyeSlash,\n    faFilter,\n    faFlag,\n    faFont,\n    faForward,\n    faImage,\n    faIndent,\n    faItalic,\n    faLink,\n    faListOl,\n    faListUl,\n    faLock,\n    faLongArrowAltRight,\n    faMapMarkerAlt,\n    faOutdent,\n    faPaintBrush,\n    faParagraph,\n    faPencilAlt,\n    faPrint,\n    faQuestion,\n    faQuoteRight,\n    faSearch,\n    faSearchPlus,\n    faSearchMinus,\n    faSortUp,\n    faSortDown,\n    faSquare,\n    faStepBackward,\n    faStepForward,\n    faStrikethrough,\n    faSyncAlt,\n    faTable,\n    faTint,\n    faTrashAlt,\n    faUnderline,\n    faUser  \n  )\n}\n\nexport default iconLibrary;\n","import TablePlugin from \"./plugin/TablePlugin\"\nimport Button from \"./lib/components/Button\"\n\nimport iconLibrary from \"./lib/utils/iconLIbrary\"\nimport { config } from \"@fortawesome/fontawesome-svg-core\"\nimport \"@fortawesome/fontawesome-svg-core/styles.css\"\nimport \"./index.sass\"\nimport App from \"./App\"\nconfig.autoAddCss = false // Tell Font Awesome to skip adding the CSS automatically since it's being imported above\n\niconLibrary()\nconst Wrapper = App\n\nexport { Wrapper, TablePlugin, Button }\n"],"names":["MAX_LIST_DEPTH","COLORS","FONTS","FONT_SIZES","defaultPreTagStyling","availableAlignments","type","display","icon","dropdownOptions","alignment","activeOption","find","a","controlWidth","dropdownWidth","list","method","Keys","B","Backspace","Delete","E","Enter","I","J","L","R","T","Tab","U","inlineStylesTypes","BLOCK_TYPES","label","style","HEADER_TYPES","handleTabInTable","direction","collapsed","editorState","onChange","newEditorState","selection","getSelection","contentState","getCurrentContent","targetKey","getAnchorKey","targetBlock","getBlockForKey","getBlockAfter","getBlockBefore","getKey","includes","getType","merge","anchorOffset","getLength","focusOffset","Modifier","splitBlock","getLastBlock","SelectionState","createEmpty","setBlockType","EditorState","push","isTargetTable","getData","get","endOffset","forceSelection","CreateTableComponent","props","createTable","blockProps","blocks","convertToRaw","index","findIndex","e","data","dataType","getProps","createrBlock","rows","cols","tableKey","aligment","colArr","Array","fill","map","key","genKey","rowArr","newBlocks","dataMap","Map","set","ContentBlock","text","prepareBlocks","getBlocksAsArray","splice","entityMap","getEntityMap","newState","ContentState","createFromBlockArray","createEditorStateFromRaw","useEffect","modalRoot","document","createElement","setAttribute","styles","body","appendChild","ModalContent","children","closingAnimate","className","isOpen","close","disabled","useModal","handleKeyUp","which","preventDefault","window","addEventListener","removeEventListener","createPortal","_jsxs","root","_jsx","ClassNames","modal__overlay","modal__overlay_closed","modal__wrapper","modal__wrapper_closed","modal","proptypes","PropTypes","node","isRequired","bool","defaultprops","ModalContext","createContext","ModalHook","useContext","Modal","onClose","submit","setClosingAnimate","useState","useCallback","setTimeout","value","useMemo","Resizeble","colStyle","setColStyle","colWidth","colKey","start","setStart","ref","useRef","handleMouseDown","initDrag","doDrag","width","startWidth","clientX","startX","s","stopDrag","documentElement","console","log","_Fragment","Cell","cellKey","active","setActive","styleKey","headerKey","selectGroup","clicking","enterHandler","setSelectGroup","cellStyle","eventState","event","activeGroup","changeStyles","state","getSelectionInlineStyle","appliedStyles","Object","keys","filter","difference","x","concat","addStyleState","length","forEach","RichUtils","toggleInlineStyle","handleChange","toggleBlockType","handleFocus","current","editor","focus","handleBlur","handleMouseMove","classNames","textAlign","Tooltip","anchorRef","observerRef","ResizeObserver","y","mouseRef","newAnchorRect","getBoundingClientRect","isMouseOverAnchor","left","right","top","bottom","shouldOpen","setShow","setAnchorBox","containerRef","overflow","setOverflow","show","anchorBox","propsAnchorRef","anchor","querySelector","offsetParent","parentNode","observer","observe","showFn","clientY","contains","target","handleWheel","disconnect","container","innerWidth","innerHeight","refBox","containerBox","test","orientation","leftOffset","rightOffset","topOffset","height","bottomOffset","tipPos","pointerInner","size","pointerOuter","position","opacity","visibility","transition","transitionProperty","maxWidth","componentDescription","componentKey","componentName","propTypes","oneOfType","object","string","number","oneOf","defaultProps","Button","block","danger","hasTooltipWhenDisabled","onClick","tooltip","tooltipOrientation","tooltipContainer","tooltipMaxWidth","tooltipSize","handleClick","stopPropagation","renderContent","tooltipProps","isNil","classes","Boolean","join","func","Icon","original","name","substring","indexOf","error","iconProps","border","color","testid","fixedWidth","flip","inverse","listItem","pulse","rotation","spin","title","transform","DropdownWrapper","Dropdown","open","scrollDiff","setScrollDiff","scrollBottom","setScrollBottom","handleScrolling","scrollTop","clientHeight","scrollHeight","maxHeight","fontSize","paddingLeft","background","borderBottomRightRadius","borderBottomLeftRadius","DropdownBtn","dropdownOpen","dropdownOrientation","onButtonClick","useClickOutside","setOrientation","useLayoutEffect","isElement","getElementById","dimensions","buttonContent","otherProps","buttonProps","buttonDisabled","buttonSize","buttonType","RichEditorDropdown","React","Component","constructor","dropdownRef","createRef","showDropdown","componentDidMount","setState","componentDidUpdate","prevProps","handleButtonClick","handleSubmit","onSelect","renderBtnContent","render","dropdownProps","allowInput","onMouseDown","contentProps","result","shape","Content","item","Toolbar","setAligment","setGroupAligment","handleSelect","controlProps","initialCell","rowKey","tolbarStyleButtons","charAt","dataStyle","initCellStyle","minWidth","blockTypes","createIndexes","arr","reduce","acc","c","i","ModalTable","closeModal","modalCtx","ModalCtx","row","setRow","col","setCol","cell","setCell","setStyleKey","setHeaderKey","groupAligment","defaultSchema","createState","cellObject","r","j","tableSchema","renderSchema","colIndexMap","rowIndexMap","handleSave","getSchema","prepareSchema","generalEditorState","blockArray","currBlock","newData","newBlock","acceptSelection","group","handleToolbar","getAttribute","styleInArray","k","handleHeaderTypes","some","EditTableWrapper","setClicking","contextMenu","setContextMenu","colMap","rowMap","eventEnter","currentTarget","dataset","currentCell","curColIndex","startColIndex","startRowIndex","curRowIndex","correctCols","correctRows","rKey","cKey","button","handleMouseOver","handleContext","handleCol","needItems","newColKey","insertObject","curIndex","updateIndex","neededKey","selectedItems","tableWidth","clientWidth","cellWidth","resizeState","getPosition","posx","posy","pageX","pageY","scrollLeft","TableCtxMenu","changeMenu","setStyle","childrenArray","Children","toArray","w","cloneElement","initialModal","App","setModal","handleModal","handleEditor","Editor","customStyleMap","styleMap","DefaultDraftInlineStyle","font","fontFamily","customStyleFn","defaultStyles","intersect","v","subtract","groupedStyles","convertStyleStringToObject","mapKeys","camelCase","split","every","vv","shift","trim","val","toJS","isEmpty","getStateToHtmlOptions","inlineStyles","BOLD","fontWeight","ITALIC","fontStyle","UNDERLINE","textDecoration","STRIKETHROUGH","inlineStyleFn","element","blockRenderers","blockStyles","OrderedSet","getClassesAndStyles","buildHtmlForBlockText","paragraph","unstyled","atomic","figStyle","imgStyle","kk","float","src","getEntityAt","getEntity","prevBlock","listStyles","add","listItems","getBlockMap","skipUntil","takeWhile","endsWith","toList","listTag","currentDepth","getDepth","depth","openTag","table","tableShape","tableStyle","tableBlocks","colgroup","cellCounter","rowStyle","tag","cellBlock","colspan","rowspan","rowNum","colNum","defaultBlockTag","entityStyleFn","entity","entityType","toLowerCase","attributes","margin","of","union","findStyleRanges","getInlineStyleAt","styleSet","kebabCase","startKey","endKey","textContent","getText","slice","replace","url","RenderTable","initialCellWidth","setInitialCellWidt","wrapperRef","getEditorRef","getEditorState","schema","handleModalChange","syncContenteditable","editableDivs","querySelectorAll","div","removeAttribute","minHeight","options","content","stateToHTML","parser","blockRendererFn","component","keyBindingFn","hasCommandModifier","KeyBindingUtil","hasText","getFirstBlock","currentStyle","getCurrentInlineStyle","unionWith","v1","v2","setInlineStyleOverride","keyCode","shiftKey","altKey","currentBlockType","getCurrentBlockType","onTab","newContentState","replaceText","getDefaultKeyBinding","grid","TableGrid","setSize","handleHover","grayCell","blueCell","justifyContent","padding","cursor","isSelected","flex","onSelected","isCollapsed","selectionKey","isEnd","unshift","rest","iconLibrary","library","faAlignCenter","faAlignJustify","faAlignLeft","faAlignRight","faArrowDown","faArrowLeft","faArrowRight","faArrowUp","faBackward","faBars","faBan","faBold","faCheck","faCheckSquare","faChevronDown","faChevronRight","faChevronLeft","faChevronUp","faCloudUploadAlt","faCircle","faCode","faCog","faCompressAlt","faDollarSign","faDownload","faExclamationCircle","faExclamationTriangle","faExpandAlt","faEye","faEyeSlash","faFilter","faFlag","faFont","faForward","faImage","faIndent","faItalic","faLink","faListOl","faListUl","faLock","faLongArrowAltRight","faMapMarkerAlt","faOutdent","faPaintBrush","faParagraph","faPencilAlt","faPrint","faQuestion","faQuoteRight","faSearch","faSearchPlus","faSearchMinus","faSortUp","faSortDown","faSquare","faStepBackward","faStepForward","faStrikethrough","faSyncAlt","faTable","faTint","faTrashAlt","faUnderline","faUser","config","autoAddCss","Wrapper"],"mappings":"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"}